{"version":3,"sources":["webpack:///proto_game-bundle.js","webpack:///webpack/bootstrap 55288d17ece1d887d4aa","webpack:///./src/lib/m4.js","webpack:///./src/lib/constants.js","webpack:///./src/lib/sprite.js","webpack:///./src/lib/timer.js","webpack:///./src/lib/vector.js","webpack:///./src/proto-game.js","webpack:///./src/lib/GlProgramFactory.js","webpack:///./src/lib/fullscreen.js","webpack:///./src/line.js","webpack:///./src/lib/param.js","webpack:///./src/point.js","webpack:///./src/plane.js","webpack:///./src/createScene.js","webpack:///./src/lib/ghost.js","webpack:///./src/cube-player.js","webpack:///./src/lib/player.js","webpack:///./src/lib/control.js","webpack:///./src/lib/walker.js","webpack:///./src/lib/game-math.js","webpack:///./src/lib/EAngle.js","webpack:///./src/css/proto-game.css?9459","webpack:///./src/css/proto-game.css","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","m4","multiply","a","b","dst","Float32Array","b00","b01","b02","b03","b10","b11","b12","b13","b20","b21","b22","b23","b30","b31","b32","b33","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","addVectors","subtractVectors","normalize","v","length","Math","sqrt","cross","dot","distanceSq","dx","dy","dz","distance","identity","transpose","lookAt","cameraPosition","target","up","zAxis","xAxis","yAxis","perspective","fieldOfViewInRadians","aspect","near","far","f","tan","PI","rangeInv","orthographic","left","right","bottom","top","frustum","translation","tx","ty","tz","translate","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","xRotation","angleInRadians","cos","sin","xRotate","yRotation","yRotate","zRotation","zRotate","axisRotation","axis","x","y","z","xx","yy","zz","oneMinusCosine","axisRotate","r00","r01","r02","r10","r11","r12","r20","r21","r22","scaling","sx","sy","sz","scale","inverse","tmp_0","tmp_1","tmp_2","tmp_3","tmp_4","tmp_5","tmp_6","tmp_7","tmp_8","tmp_9","tmp_10","tmp_11","tmp_12","tmp_13","tmp_14","tmp_15","tmp_16","tmp_17","tmp_18","tmp_19","tmp_20","tmp_21","tmp_22","tmp_23","t0","t1","t2","t3","transformVector","j","transformPoint","v0","v1","v2","transformDirection","transformNormal","mi","copy","src","LINES","POINTS","LINE_STRIP","LINE_LOOP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","DATATYPE","TYPE","LOCATION","Arrays","SIZE","VertexAttribPointers_DATATYPE","NORMALIZE","STRIDE","OFFSET","ATTRIB_BUFFER","ATTRIB_VERTEXES","PI2","ATTRIB","UNIFORM","FLOAT","FPS","_interopRequireDefault","obj","default","Sprite","undefined","_m","_m2","_param","_param2","_","gl","attribs","uniforms","clauses","this","vertexData","defaultClauses","concat","processed","attr","vertexes","C","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","getUniforms","_scene","getViewProjectionMatrix","getWorldMatrix","create","constructor","Ghost","GameTimer","fps","_before","_elapse","_spf","_stop","loop","upt","scope","now","delta","frame","requestAnimationFrame","enable","stop","Vector","add","to","r","substract","lengthSqr","divide","zero","onload","canvas","document","getElementById","getContext","alert","_fullscreen","fullscreen","tm","features","_GlProgramFactory","createProgram","VERTEX_COLOR","WORLD_VIEW_PROJECT","prog","li","_line","createLine","po","_point","createPoint","pl","_plane","createPlane","sc","_createScene","createScene","ghost","_ghost","ghostMatrix","_control","control","moveByKeyboard","focus","cubeplayer","_cubePlayer","createCubePlayer","lookAroundByKeyboard","sprites","addSprite","display","window","addEventListener","_constants","newObj","key","bitmask","param","assign","defaultParam","fstxt","filterLine","defaultFragmentShader","vstxt","defaultVertexShader","GlProgram","type","defaults","lines","split","Features","deletekey","idx","join","TEXTURE","COLOR","WORLD_PROJECTION","16","v+","v-","p+","1","f+","f-","2","4","8","a_position","a_texCoord","a_color","u_image","u_color","u_worldViewProjection","u_worldProjection","e","clientHeight","cv","writable","onWindowResize","cw","elems","elem","body","style","clientWidth","ch","width","height","bind","styles","box-sizing","padding","margin","border","_canvas","_defineProperty","_sprite","_sprite2","drawArrays","defaultVertexes","defaultAttribs","getClauses","BYTES_PER_ELEMENT","Param","projectionMatrix","Scene","setTranslateMatrix","fieldOfViewRadians","degToRad","getMatrix","_projectionMatrix","U","cb","worldMatrix","_player","_player2","_constants2","cameraMatrix","defaultUniforms","follow","Player","_worldMatrix","UP","SPEED","DOWN","LEFT","_timer","_timer2","_walker","et","keyCode","rotation","scene","onkeydown","RIGHT","onkeyup","ZERO","getRotateMatrix","lookaround","_walker2","ACCELERATION","Walker","_movement","_goal","_gameMath","_gameMath2","_vector","_vector2","_velocity","INIT","move","GOAL","forward","approach","getCameraMatrix","GameMath","_EAngle","_EAngle2","pitchYawRoll2xyz","toVector","goal","current","diff","dotProduct","pitch","roll","result","EAngle","yaw","content","options","hmr","transform","locals","push","cssWithMappingToString","item","useSourceMap","cssMapping","btoa","sourceMapping","toComment","sources","map","source","sourceRoot","sourceMap","unescape","encodeURIComponent","JSON","stringify","list","toString","mediaQuery","alreadyImportedModules","id","addStylesToDom","domStyle","stylesInDom","refs","parts","addStyle","listToStyles","newStyles","base","css","media","part","insertStyleElement","getElement","insertInto","Error","lastStyleElementInsertedAtTop","stylesInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","indexOf","splice","createStyleElement","createElement","attrs","addAttrs","createLinkElement","link","rel","el","keys","forEach","setAttribute","update","remove","singleton","styleIndex","singletonCounter","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","updateLink","href","applyToTag","index","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","fixUrls","blob","oldSrc","isOldIE","fn","memo","apply","arguments","all","atob","selector","styleTarget","HTMLIFrameElement","contentDocument","head","querySelector","DEBUG","newList","mayRemove","textStore","replacement","filter","Boolean","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","unquotedOrigUrl","trim","$1","test","newUrl"],"mappings":"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","file":"proto_game-bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n   value: true\n});\n/*\r\n * Copyright 2014, Gregg Tavares.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are\r\n * met:\r\n *\r\n *     * Redistributions of source code must retain the above copyright\r\n * notice, this list of conditions and the following disclaimer.\r\n *     * Redistributions in binary form must reproduce the above\r\n * copyright notice, this list of conditions and the following disclaimer\r\n * in the documentation and/or other materials provided with the\r\n * distribution.\r\n *     * Neither the name of Gregg Tavares. nor the names of his\r\n * contributors may be used to endorse or promote products derived from\r\n * this software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\n\n/**\r\n * Various 3d math functions.\r\n *\r\n * @module webgl-3d-math\r\n */\nvar m4 = exports.m4 = function () {\n   \"use strict\";\n\n   /**\r\n    * An array or typed array with 3 values.\r\n    * @typedef {number[]|TypedArray} Vector3\r\n    * @memberOf module:webgl-3d-math\r\n    */\n\n   /**\r\n    * An array or typed array with 4 values.\r\n    * @typedef {number[]|TypedArray} Vector4\r\n    * @memberOf module:webgl-3d-math\r\n    */\n\n   /**\r\n    * An array or typed array with 16 values.\r\n    * @typedef {number[]|TypedArray} Matrix4\r\n    * @memberOf module:webgl-3d-math\r\n    */\n\n   /**\r\n    * Takes two 4-by-4 matrices, a and b, and computes the product in the order\r\n    * that pre-composes b with a.  In other words, the matrix returned will\r\n    * transform by b first and then a.  Note this is subtly different from just\r\n    * multiplying the matrices together.  For given a and b, this function returns\r\n    * the same object in both row-major and column-major mode.\r\n    * @param {Matrix4} a A matrix.\r\n    * @param {Matrix4} b A matrix.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    */\n\n   function multiply(a, b, dst) {\n      dst = dst || new Float32Array(16);\n      var b00 = b[0 * 4 + 0];\n      var b01 = b[0 * 4 + 1];\n      var b02 = b[0 * 4 + 2];\n      var b03 = b[0 * 4 + 3];\n      var b10 = b[1 * 4 + 0];\n      var b11 = b[1 * 4 + 1];\n      var b12 = b[1 * 4 + 2];\n      var b13 = b[1 * 4 + 3];\n      var b20 = b[2 * 4 + 0];\n      var b21 = b[2 * 4 + 1];\n      var b22 = b[2 * 4 + 2];\n      var b23 = b[2 * 4 + 3];\n      var b30 = b[3 * 4 + 0];\n      var b31 = b[3 * 4 + 1];\n      var b32 = b[3 * 4 + 2];\n      var b33 = b[3 * 4 + 3];\n      var a00 = a[0 * 4 + 0];\n      var a01 = a[0 * 4 + 1];\n      var a02 = a[0 * 4 + 2];\n      var a03 = a[0 * 4 + 3];\n      var a10 = a[1 * 4 + 0];\n      var a11 = a[1 * 4 + 1];\n      var a12 = a[1 * 4 + 2];\n      var a13 = a[1 * 4 + 3];\n      var a20 = a[2 * 4 + 0];\n      var a21 = a[2 * 4 + 1];\n      var a22 = a[2 * 4 + 2];\n      var a23 = a[2 * 4 + 3];\n      var a30 = a[3 * 4 + 0];\n      var a31 = a[3 * 4 + 1];\n      var a32 = a[3 * 4 + 2];\n      var a33 = a[3 * 4 + 3];\n      dst[0] = b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30;\n      dst[1] = b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31;\n      dst[2] = b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32;\n      dst[3] = b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33;\n      dst[4] = b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30;\n      dst[5] = b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31;\n      dst[6] = b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32;\n      dst[7] = b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33;\n      dst[8] = b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30;\n      dst[9] = b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31;\n      dst[10] = b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32;\n      dst[11] = b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33;\n      dst[12] = b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30;\n      dst[13] = b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31;\n      dst[14] = b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32;\n      dst[15] = b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33;\n      return dst;\n   }\n\n   /**\r\n    * adds 2 vectors3s\r\n    * @param {Vector3} a a\r\n    * @param {Vector3} b b\r\n    * @param {Vector3} dst optional vector3 to store result\r\n    * @return {Vector3} dst or new Vector3 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function addVectors(a, b, dst) {\n      dst = dst || new Float32Array(3);\n      dst[0] = a[0] + b[0];\n      dst[1] = a[1] + b[1];\n      dst[2] = a[2] + b[2];\n      return dst;\n   }\n\n   /**\r\n    * subtracts 2 vectors3s\r\n    * @param {Vector3} a a\r\n    * @param {Vector3} b b\r\n    * @param {Vector3} dst optional vector3 to store result\r\n    * @return {Vector3} dst or new Vector3 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function subtractVectors(a, b, dst) {\n      dst = dst || new Float32Array(3);\n      dst[0] = a[0] - b[0];\n      dst[1] = a[1] - b[1];\n      dst[2] = a[2] - b[2];\n      return dst;\n   }\n\n   /**\r\n    * normalizes a vector.\r\n    * @param {Vector3} v vector to normalzie\r\n    * @param {Vector3} dst optional vector3 to store result\r\n    * @return {Vector3} dst or new Vector3 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function normalize(v, dst) {\n      dst = dst || new Float32Array(3);\n      var length = Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);\n      // make sure we don't divide by 0.\n      if (length > 0.00001) {\n         dst[0] = v[0] / length;\n         dst[1] = v[1] / length;\n         dst[2] = v[2] / length;\n      }\n      return dst;\n   }\n\n   /**\r\n    * Computes the cross product of 2 vectors3s\r\n    * @param {Vector3} a a\r\n    * @param {Vector3} b b\r\n    * @param {Vector3} dst optional vector3 to store result\r\n    * @return {Vector3} dst or new Vector3 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function cross(a, b, dst) {\n      dst = dst || new Float32Array(3);\n      dst[0] = a[1] * b[2] - a[2] * b[1];\n      dst[1] = a[2] * b[0] - a[0] * b[2];\n      dst[2] = a[0] * b[1] - a[1] * b[0];\n      return dst;\n   }\n\n   /**\r\n    * Computes the dot product of two vectors; assumes both vectors have\r\n    * three entries.\r\n    * @param {Vector3} a Operand vector.\r\n    * @param {Vector3} b Operand vector.\r\n    * @return {number} dot product\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function dot(a, b) {\n      return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n   }\n\n   /**\r\n    * Computes the distance squared between 2 points\r\n    * @param {Vector3} a\r\n    * @param {Vector3} b\r\n    * @return {nubmer} distance squared between a and b\r\n    */\n   function distanceSq(a, b) {\n      var dx = a[0] - b[0];\n      var dy = a[1] - b[1];\n      var dz = a[2] - b[2];\n      return dx * dx + dy * dy + dz * dz;\n   }\n\n   /**\r\n    * Computes the distance between 2 points\r\n    * @param {Vector3} a\r\n    * @param {Vector3} b\r\n    * @return {nubmer} distance between a and b\r\n    */\n   function distance(a, b) {\n      return Math.sqrt(distanceSq(a, b));\n   }\n\n   /**\r\n    * Makes an identity matrix.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function identity(dst) {\n      dst = dst || new Float32Array(16);\n\n      dst[0] = 1;\n      dst[1] = 0;\n      dst[2] = 0;\n      dst[3] = 0;\n      dst[4] = 0;\n      dst[5] = 1;\n      dst[6] = 0;\n      dst[7] = 0;\n      dst[8] = 0;\n      dst[9] = 0;\n      dst[10] = 1;\n      dst[11] = 0;\n      dst[12] = 0;\n      dst[13] = 0;\n      dst[14] = 0;\n      dst[15] = 1;\n\n      return dst;\n   }\n\n   /**\r\n    * Transposes a matrix.\r\n    * @param {Matrix4} m matrix to transpose.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function transpose(m, dst) {\n      dst = dst || new Float32Array(16);\n\n      dst[0] = m[0];\n      dst[1] = m[4];\n      dst[2] = m[8];\n      dst[3] = m[12];\n      dst[4] = m[1];\n      dst[5] = m[5];\n      dst[6] = m[9];\n      dst[7] = m[13];\n      dst[8] = m[2];\n      dst[9] = m[6];\n      dst[10] = m[10];\n      dst[11] = m[14];\n      dst[12] = m[3];\n      dst[13] = m[7];\n      dst[14] = m[11];\n      dst[15] = m[15];\n\n      return dst;\n   }\n\n   /**\r\n    * Creates a lookAt matrix.\r\n    * This is a world matrix for a camera. In other words it will transform\r\n    * from the origin to a place and orientation in the world. For a view\r\n    * matrix take the inverse of this.\r\n    * @param {Vector3} cameraPosition position of the camera\r\n    * @param {Vector3} target position of the target\r\n    * @param {Vector3} up direction\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function lookAt(cameraPosition, target, up, dst) {\n      dst = dst || new Float32Array(16);\n      var zAxis = normalize(subtractVectors(cameraPosition, target));\n      var xAxis = normalize(cross(up, zAxis));\n      var yAxis = normalize(cross(zAxis, xAxis));\n\n      dst[0] = xAxis[0];\n      dst[1] = xAxis[1];\n      dst[2] = xAxis[2];\n      dst[3] = 0;\n      dst[4] = yAxis[0];\n      dst[5] = yAxis[1];\n      dst[6] = yAxis[2];\n      dst[7] = 0;\n      dst[8] = zAxis[0];\n      dst[9] = zAxis[1];\n      dst[10] = zAxis[2];\n      dst[11] = 0;\n      dst[12] = cameraPosition[0];\n      dst[13] = cameraPosition[1];\n      dst[14] = cameraPosition[2];\n      dst[15] = 1;\n\n      return dst;\n   }\n\n   /**\r\n    * Computes a 4-by-4 perspective transformation matrix given the angular height\r\n    * of the frustum, the aspect ratio, and the near and far clipping planes.  The\r\n    * arguments define a frustum extending in the negative z direction.  The given\r\n    * angle is the vertical angle of the frustum, and the horizontal angle is\r\n    * determined to produce the given aspect ratio.  The arguments near and far are\r\n    * the distances to the near and far clipping planes.  Note that near and far\r\n    * are not z coordinates, but rather they are distances along the negative\r\n    * z-axis.  The matrix generated sends the viewing frustum to the unit box.\r\n    * We assume a unit box extending from -1 to 1 in the x and y dimensions and\r\n    * from -1 to 1 in the z dimension.\r\n    * @param {number} fieldOfViewInRadians field of view in y axis.\r\n    * @param {number} aspect aspect of viewport (width / height)\r\n    * @param {number} near near Z clipping plane\r\n    * @param {number} far far Z clipping plane\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function perspective(fieldOfViewInRadians, aspect, near, far, dst) {\n      dst = dst || new Float32Array(16);\n      var f = Math.tan(Math.PI * 0.5 - 0.5 * fieldOfViewInRadians);\n      var rangeInv = 1.0 / (near - far);\n\n      dst[0] = f / aspect;\n      dst[1] = 0;\n      dst[2] = 0;\n      dst[3] = 0;\n      dst[4] = 0;\n      dst[5] = f;\n      dst[6] = 0;\n      dst[7] = 0;\n      dst[8] = 0;\n      dst[9] = 0;\n      dst[10] = (near + far) * rangeInv;\n      dst[11] = -1;\n      dst[12] = 0;\n      dst[13] = 0;\n      dst[14] = near * far * rangeInv * 2;\n      dst[15] = 0;\n\n      return dst;\n   }\n\n   /**\r\n    * Computes a 4-by-4 orthographic projection matrix given the coordinates of the\r\n    * planes defining the axis-aligned, box-shaped viewing volume.  The matrix\r\n    * generated sends that box to the unit box.  Note that although left and right\r\n    * are x coordinates and bottom and top are y coordinates, near and far\r\n    * are not z coordinates, but rather they are distances along the negative\r\n    * z-axis.  We assume a unit box extending from -1 to 1 in the x and y\r\n    * dimensions and from -1 to 1 in the z dimension.\r\n    * @param {number} left The x coordinate of the left plane of the box.\r\n    * @param {number} right The x coordinate of the right plane of the box.\r\n    * @param {number} bottom The y coordinate of the bottom plane of the box.\r\n    * @param {number} top The y coordinate of the right plane of the box.\r\n    * @param {number} near The negative z coordinate of the near plane of the box.\r\n    * @param {number} far The negative z coordinate of the far plane of the box.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function orthographic(left, right, bottom, top, near, far, dst) {\n      dst = dst || new Float32Array(16);\n\n      dst[0] = 2 / (right - left);\n      dst[1] = 0;\n      dst[2] = 0;\n      dst[3] = 0;\n      dst[4] = 0;\n      dst[5] = 2 / (top - bottom);\n      dst[6] = 0;\n      dst[7] = 0;\n      dst[8] = 0;\n      dst[9] = 0;\n      dst[10] = 2 / (near - far);\n      dst[11] = 0;\n      dst[12] = (left + right) / (left - right);\n      dst[13] = (bottom + top) / (bottom - top);\n      dst[14] = (near + far) / (near - far);\n      dst[15] = 1;\n\n      return dst;\n   }\n\n   /**\r\n    * Computes a 4-by-4 perspective transformation matrix given the left, right,\r\n    * top, bottom, near and far clipping planes. The arguments define a frustum\r\n    * extending in the negative z direction. The arguments near and far are the\r\n    * distances to the near and far clipping planes. Note that near and far are not\r\n    * z coordinates, but rather they are distances along the negative z-axis. The\r\n    * matrix generated sends the viewing frustum to the unit box. We assume a unit\r\n    * box extending from -1 to 1 in the x and y dimensions and from -1 to 1 in the z\r\n    * dimension.\r\n    * @param {number} left The x coordinate of the left plane of the box.\r\n    * @param {number} right The x coordinate of the right plane of the box.\r\n    * @param {number} bottom The y coordinate of the bottom plane of the box.\r\n    * @param {number} top The y coordinate of the right plane of the box.\r\n    * @param {number} near The negative z coordinate of the near plane of the box.\r\n    * @param {number} far The negative z coordinate of the far plane of the box.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function frustum(left, right, bottom, top, near, far) {\n      var dx = right - left;\n      var dy = top - bottom;\n      var dz = far - near;\n\n      dst[0] = 2 * near / dx;\n      dst[1] = 0;\n      dst[2] = 0;\n      dst[3] = 0;\n      dst[4] = 0;\n      dst[5] = 2 * near / dy;\n      dst[6] = 0;\n      dst[7] = 0;\n      dst[8] = (left + right) / dx;\n      dst[9] = (top + bottom) / dy;\n      dst[10] = -(far + near) / dz;\n      dst[11] = -1;\n      dst[12] = 0;\n      dst[13] = 0;\n      dst[14] = -2 * near * far / dz;\n      dst[15] = 0;\n\n      return dst;\n   }\n\n   /**\r\n    * Makes a translation matrix\r\n    * @param {number} tx x translation.\r\n    * @param {number} ty y translation.\r\n    * @param {number} tz z translation.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function translation(tx, ty, tz, dst) {\n      dst = dst || new Float32Array(16);\n\n      dst[0] = 1;\n      dst[1] = 0;\n      dst[2] = 0;\n      dst[3] = 0;\n      dst[4] = 0;\n      dst[5] = 1;\n      dst[6] = 0;\n      dst[7] = 0;\n      dst[8] = 0;\n      dst[9] = 0;\n      dst[10] = 1;\n      dst[11] = 0;\n      dst[12] = tx;\n      dst[13] = ty;\n      dst[14] = tz;\n      dst[15] = 1;\n\n      return dst;\n   }\n\n   /**\r\n    * Mutliply by translation matrix.\r\n    * @param {Matrix4} m matrix to multiply\r\n    * @param {number} tx x translation.\r\n    * @param {number} ty y translation.\r\n    * @param {number} tz z translation.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function translate(m, tx, ty, tz, dst) {\n      // This is the optimized version of\n      // return multiply(m, translation(tx, ty, tz), dst);\n      dst = dst || new Float32Array(16);\n\n      var m00 = m[0];\n      var m01 = m[1];\n      var m02 = m[2];\n      var m03 = m[3];\n      var m10 = m[1 * 4 + 0];\n      var m11 = m[1 * 4 + 1];\n      var m12 = m[1 * 4 + 2];\n      var m13 = m[1 * 4 + 3];\n      var m20 = m[2 * 4 + 0];\n      var m21 = m[2 * 4 + 1];\n      var m22 = m[2 * 4 + 2];\n      var m23 = m[2 * 4 + 3];\n      var m30 = m[3 * 4 + 0];\n      var m31 = m[3 * 4 + 1];\n      var m32 = m[3 * 4 + 2];\n      var m33 = m[3 * 4 + 3];\n\n      if (m !== dst) {\n         dst[0] = m00;\n         dst[1] = m01;\n         dst[2] = m02;\n         dst[3] = m03;\n         dst[4] = m10;\n         dst[5] = m11;\n         dst[6] = m12;\n         dst[7] = m13;\n         dst[8] = m20;\n         dst[9] = m21;\n         dst[10] = m22;\n         dst[11] = m23;\n      }\n\n      dst[12] = m00 * tx + m10 * ty + m20 * tz + m30;\n      dst[13] = m01 * tx + m11 * ty + m21 * tz + m31;\n      dst[14] = m02 * tx + m12 * ty + m22 * tz + m32;\n      dst[15] = m03 * tx + m13 * ty + m23 * tz + m33;\n\n      return dst;\n   }\n\n   /**\r\n    * Makes an x rotation matrix\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function xRotation(angleInRadians, dst) {\n      dst = dst || new Float32Array(16);\n      var c = Math.cos(angleInRadians);\n      var s = Math.sin(angleInRadians);\n\n      dst[0] = 1;\n      dst[1] = 0;\n      dst[2] = 0;\n      dst[3] = 0;\n      dst[4] = 0;\n      dst[5] = c;\n      dst[6] = s;\n      dst[7] = 0;\n      dst[8] = 0;\n      dst[9] = -s;\n      dst[10] = c;\n      dst[11] = 0;\n      dst[12] = 0;\n      dst[13] = 0;\n      dst[14] = 0;\n      dst[15] = 1;\n\n      return dst;\n   }\n\n   /**\r\n    * Multiply by an x rotation matrix\r\n    * @param {Matrix4} m matrix to multiply\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function xRotate(m, angleInRadians, dst) {\n      // this is the optimized version of\n      // return multiply(m, xRotation(angleInRadians), dst);\n      dst = dst || new Float32Array(16);\n\n      var m10 = m[4];\n      var m11 = m[5];\n      var m12 = m[6];\n      var m13 = m[7];\n      var m20 = m[8];\n      var m21 = m[9];\n      var m22 = m[10];\n      var m23 = m[11];\n      var c = Math.cos(angleInRadians);\n      var s = Math.sin(angleInRadians);\n\n      dst[4] = c * m10 + s * m20;\n      dst[5] = c * m11 + s * m21;\n      dst[6] = c * m12 + s * m22;\n      dst[7] = c * m13 + s * m23;\n      dst[8] = c * m20 - s * m10;\n      dst[9] = c * m21 - s * m11;\n      dst[10] = c * m22 - s * m12;\n      dst[11] = c * m23 - s * m13;\n\n      if (m !== dst) {\n         dst[0] = m[0];\n         dst[1] = m[1];\n         dst[2] = m[2];\n         dst[3] = m[3];\n         dst[12] = m[12];\n         dst[13] = m[13];\n         dst[14] = m[14];\n         dst[15] = m[15];\n      }\n\n      return dst;\n   }\n\n   /**\r\n    * Makes an y rotation matrix\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function yRotation(angleInRadians, dst) {\n      dst = dst || new Float32Array(16);\n      var c = Math.cos(angleInRadians);\n      var s = Math.sin(angleInRadians);\n\n      dst[0] = c;\n      dst[1] = 0;\n      dst[2] = -s;\n      dst[3] = 0;\n      dst[4] = 0;\n      dst[5] = 1;\n      dst[6] = 0;\n      dst[7] = 0;\n      dst[8] = s;\n      dst[9] = 0;\n      dst[10] = c;\n      dst[11] = 0;\n      dst[12] = 0;\n      dst[13] = 0;\n      dst[14] = 0;\n      dst[15] = 1;\n\n      return dst;\n   }\n\n   /**\r\n    * Multiply by an y rotation matrix\r\n    * @param {Matrix4} m matrix to multiply\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function yRotate(m, angleInRadians, dst) {\n      // this is the optimized verison of\n      // return multiply(m, yRotation(angleInRadians), dst);\n      dst = dst || new Float32Array(16);\n\n      var m00 = m[0 * 4 + 0];\n      var m01 = m[0 * 4 + 1];\n      var m02 = m[0 * 4 + 2];\n      var m03 = m[0 * 4 + 3];\n      var m20 = m[2 * 4 + 0];\n      var m21 = m[2 * 4 + 1];\n      var m22 = m[2 * 4 + 2];\n      var m23 = m[2 * 4 + 3];\n      var c = Math.cos(angleInRadians);\n      var s = Math.sin(angleInRadians);\n\n      dst[0] = c * m00 - s * m20;\n      dst[1] = c * m01 - s * m21;\n      dst[2] = c * m02 - s * m22;\n      dst[3] = c * m03 - s * m23;\n      dst[8] = c * m20 + s * m00;\n      dst[9] = c * m21 + s * m01;\n      dst[10] = c * m22 + s * m02;\n      dst[11] = c * m23 + s * m03;\n\n      if (m !== dst) {\n         dst[4] = m[4];\n         dst[5] = m[5];\n         dst[6] = m[6];\n         dst[7] = m[7];\n         dst[12] = m[12];\n         dst[13] = m[13];\n         dst[14] = m[14];\n         dst[15] = m[15];\n      }\n\n      return dst;\n   }\n\n   /**\r\n    * Makes an z rotation matrix\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function zRotation(angleInRadians, dst) {\n      dst = dst || new Float32Array(16);\n      var c = Math.cos(angleInRadians);\n      var s = Math.sin(angleInRadians);\n\n      dst[0] = c;\n      dst[1] = s;\n      dst[2] = 0;\n      dst[3] = 0;\n      dst[4] = -s;\n      dst[5] = c;\n      dst[6] = 0;\n      dst[7] = 0;\n      dst[8] = 0;\n      dst[9] = 0;\n      dst[10] = 1;\n      dst[11] = 0;\n      dst[12] = 0;\n      dst[13] = 0;\n      dst[14] = 0;\n      dst[15] = 1;\n\n      return dst;\n   }\n\n   /**\r\n    * Multiply by an z rotation matrix\r\n    * @param {Matrix4} m matrix to multiply\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function zRotate(m, angleInRadians, dst) {\n      // This is the optimized verison of\n      // return multiply(m, zRotation(angleInRadians), dst);\n      dst = dst || new Float32Array(16);\n\n      var m00 = m[0 * 4 + 0];\n      var m01 = m[0 * 4 + 1];\n      var m02 = m[0 * 4 + 2];\n      var m03 = m[0 * 4 + 3];\n      var m10 = m[1 * 4 + 0];\n      var m11 = m[1 * 4 + 1];\n      var m12 = m[1 * 4 + 2];\n      var m13 = m[1 * 4 + 3];\n      var c = Math.cos(angleInRadians);\n      var s = Math.sin(angleInRadians);\n\n      dst[0] = c * m00 + s * m10;\n      dst[1] = c * m01 + s * m11;\n      dst[2] = c * m02 + s * m12;\n      dst[3] = c * m03 + s * m13;\n      dst[4] = c * m10 - s * m00;\n      dst[5] = c * m11 - s * m01;\n      dst[6] = c * m12 - s * m02;\n      dst[7] = c * m13 - s * m03;\n\n      if (m !== dst) {\n         dst[8] = m[8];\n         dst[9] = m[9];\n         dst[10] = m[10];\n         dst[11] = m[11];\n         dst[12] = m[12];\n         dst[13] = m[13];\n         dst[14] = m[14];\n         dst[15] = m[15];\n      }\n\n      return dst;\n   }\n\n   /**\r\n    * Makes an rotation matrix around an arbitrary axis\r\n    * @param {Vector3} axis axis to rotate around\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function axisRotation(axis, angleInRadians, dst) {\n      dst = dst || new Float32Array(16);\n\n      var x = axis[0];\n      var y = axis[1];\n      var z = axis[2];\n      var n = Math.sqrt(x * x + y * y + z * z);\n      x /= n;\n      y /= n;\n      z /= n;\n      var xx = x * x;\n      var yy = y * y;\n      var zz = z * z;\n      var c = Math.cos(angleInRadians);\n      var s = Math.sin(angleInRadians);\n      var oneMinusCosine = 1 - c;\n\n      dst[0] = xx + (1 - xx) * c;\n      dst[1] = x * y * oneMinusCosine + z * s;\n      dst[2] = x * z * oneMinusCosine - y * s;\n      dst[3] = 0;\n      dst[4] = x * y * oneMinusCosine - z * s;\n      dst[5] = yy + (1 - yy) * c;\n      dst[6] = y * z * oneMinusCosine + x * s;\n      dst[7] = 0;\n      dst[8] = x * z * oneMinusCosine + y * s;\n      dst[9] = y * z * oneMinusCosine - x * s;\n      dst[10] = zz + (1 - zz) * c;\n      dst[11] = 0;\n      dst[12] = 0;\n      dst[13] = 0;\n      dst[14] = 0;\n      dst[15] = 1;\n\n      return dst;\n   }\n\n   /**\r\n    * Multiply by an axis rotation matrix\r\n    * @param {Matrix4} m matrix to multiply\r\n    * @param {Vector3} axis axis to rotate around\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function axisRotate(m, axis, angleInRadians, dst) {\n      // This is the optimized verison of\n      // return multiply(m, axisRotation(axis, angleInRadians), dst);\n      dst = dst || new Float32Array(16);\n\n      var x = axis[0];\n      var y = axis[1];\n      var z = axis[2];\n      var n = Math.sqrt(x * x + y * y + z * z);\n      x /= n;\n      y /= n;\n      z /= n;\n      var xx = x * x;\n      var yy = y * y;\n      var zz = z * z;\n      var c = Math.cos(angleInRadians);\n      var s = Math.sin(angleInRadians);\n      var oneMinusCosine = 1 - c;\n\n      var r00 = xx + (1 - xx) * c;\n      var r01 = x * y * oneMinusCosine + z * s;\n      var r02 = x * z * oneMinusCosine - y * s;\n      var r10 = x * y * oneMinusCosine - z * s;\n      var r11 = yy + (1 - yy) * c;\n      var r12 = y * z * oneMinusCosine + x * s;\n      var r20 = x * z * oneMinusCosine + y * s;\n      var r21 = y * z * oneMinusCosine - x * s;\n      var r22 = zz + (1 - zz) * c;\n\n      var m00 = m[0];\n      var m01 = m[1];\n      var m02 = m[2];\n      var m03 = m[3];\n      var m10 = m[4];\n      var m11 = m[5];\n      var m12 = m[6];\n      var m13 = m[7];\n      var m20 = m[8];\n      var m21 = m[9];\n      var m22 = m[10];\n      var m23 = m[11];\n\n      dst[0] = r00 * m00 + r01 * m10 + r02 * m20;\n      dst[1] = r00 * m01 + r01 * m11 + r02 * m21;\n      dst[2] = r00 * m02 + r01 * m12 + r02 * m22;\n      dst[3] = r00 * m03 + r01 * m13 + r02 * m23;\n      dst[4] = r10 * m00 + r11 * m10 + r12 * m20;\n      dst[5] = r10 * m01 + r11 * m11 + r12 * m21;\n      dst[6] = r10 * m02 + r11 * m12 + r12 * m22;\n      dst[7] = r10 * m03 + r11 * m13 + r12 * m23;\n      dst[8] = r20 * m00 + r21 * m10 + r22 * m20;\n      dst[9] = r20 * m01 + r21 * m11 + r22 * m21;\n      dst[10] = r20 * m02 + r21 * m12 + r22 * m22;\n      dst[11] = r20 * m03 + r21 * m13 + r22 * m23;\n\n      if (m !== dst) {\n         dst[12] = m[12];\n         dst[13] = m[13];\n         dst[14] = m[14];\n         dst[15] = m[15];\n      }\n\n      return dst;\n   }\n\n   /**\r\n    * Makes a scale matrix\r\n    * @param {number} sx x scale.\r\n    * @param {number} sy y scale.\r\n    * @param {number} sz z scale.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function scaling(sx, sy, sz, dst) {\n      dst = dst || new Float32Array(16);\n\n      dst[0] = sx;\n      dst[1] = 0;\n      dst[2] = 0;\n      dst[3] = 0;\n      dst[4] = 0;\n      dst[5] = sy;\n      dst[6] = 0;\n      dst[7] = 0;\n      dst[8] = 0;\n      dst[9] = 0;\n      dst[10] = sz;\n      dst[11] = 0;\n      dst[12] = 0;\n      dst[13] = 0;\n      dst[14] = 0;\n      dst[15] = 1;\n\n      return dst;\n   }\n\n   /**\r\n    * Multiply by a scaling matrix\r\n    * @param {Matrix4} m matrix to multiply\r\n    * @param {number} sx x scale.\r\n    * @param {number} sy y scale.\r\n    * @param {number} sz z scale.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function scale(m, sx, sy, sz, dst) {\n      // This is the optimized verison of\n      // return multiply(m, scaling(sx, sy, sz), dst);\n      dst = dst || new Float32Array(16);\n\n      dst[0] = sx * m[0 * 4 + 0];\n      dst[1] = sx * m[0 * 4 + 1];\n      dst[2] = sx * m[0 * 4 + 2];\n      dst[3] = sx * m[0 * 4 + 3];\n      dst[4] = sy * m[1 * 4 + 0];\n      dst[5] = sy * m[1 * 4 + 1];\n      dst[6] = sy * m[1 * 4 + 2];\n      dst[7] = sy * m[1 * 4 + 3];\n      dst[8] = sz * m[2 * 4 + 0];\n      dst[9] = sz * m[2 * 4 + 1];\n      dst[10] = sz * m[2 * 4 + 2];\n      dst[11] = sz * m[2 * 4 + 3];\n\n      if (m !== dst) {\n         dst[12] = m[12];\n         dst[13] = m[13];\n         dst[14] = m[14];\n         dst[15] = m[15];\n      }\n\n      return dst;\n   }\n\n   /**\r\n    * Computes the inverse of a matrix.\r\n    * @param {Matrix4} m matrix to compute inverse of\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function inverse(m, dst) {\n      dst = dst || new Float32Array(16);\n      var m00 = m[0 * 4 + 0];\n      var m01 = m[0 * 4 + 1];\n      var m02 = m[0 * 4 + 2];\n      var m03 = m[0 * 4 + 3];\n      var m10 = m[1 * 4 + 0];\n      var m11 = m[1 * 4 + 1];\n      var m12 = m[1 * 4 + 2];\n      var m13 = m[1 * 4 + 3];\n      var m20 = m[2 * 4 + 0];\n      var m21 = m[2 * 4 + 1];\n      var m22 = m[2 * 4 + 2];\n      var m23 = m[2 * 4 + 3];\n      var m30 = m[3 * 4 + 0];\n      var m31 = m[3 * 4 + 1];\n      var m32 = m[3 * 4 + 2];\n      var m33 = m[3 * 4 + 3];\n      var tmp_0 = m22 * m33;\n      var tmp_1 = m32 * m23;\n      var tmp_2 = m12 * m33;\n      var tmp_3 = m32 * m13;\n      var tmp_4 = m12 * m23;\n      var tmp_5 = m22 * m13;\n      var tmp_6 = m02 * m33;\n      var tmp_7 = m32 * m03;\n      var tmp_8 = m02 * m23;\n      var tmp_9 = m22 * m03;\n      var tmp_10 = m02 * m13;\n      var tmp_11 = m12 * m03;\n      var tmp_12 = m20 * m31;\n      var tmp_13 = m30 * m21;\n      var tmp_14 = m10 * m31;\n      var tmp_15 = m30 * m11;\n      var tmp_16 = m10 * m21;\n      var tmp_17 = m20 * m11;\n      var tmp_18 = m00 * m31;\n      var tmp_19 = m30 * m01;\n      var tmp_20 = m00 * m21;\n      var tmp_21 = m20 * m01;\n      var tmp_22 = m00 * m11;\n      var tmp_23 = m10 * m01;\n\n      var t0 = tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31 - (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31);\n      var t1 = tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31 - (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31);\n      var t2 = tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31 - (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31);\n      var t3 = tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21 - (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21);\n\n      var d = 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\n\n      dst[0] = d * t0;\n      dst[1] = d * t1;\n      dst[2] = d * t2;\n      dst[3] = d * t3;\n      dst[4] = d * (tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30 - (tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30));\n      dst[5] = d * (tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30 - (tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30));\n      dst[6] = d * (tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30 - (tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30));\n      dst[7] = d * (tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20 - (tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20));\n      dst[8] = d * (tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33 - (tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33));\n      dst[9] = d * (tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33 - (tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33));\n      dst[10] = d * (tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33 - (tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33));\n      dst[11] = d * (tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23 - (tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23));\n      dst[12] = d * (tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12 - (tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22));\n      dst[13] = d * (tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22 - (tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02));\n      dst[14] = d * (tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02 - (tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12));\n      dst[15] = d * (tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12 - (tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02));\n\n      return dst;\n   }\n\n   /**\r\n    * Takes a  matrix and a vector with 4 entries, transforms that vector by\r\n    * the matrix, and returns the result as a vector with 4 entries.\r\n    * @param {Matrix4} m The matrix.\r\n    * @param {Vector4} v The point in homogenous coordinates.\r\n    * @param {Vector4} dst optional vector4 to store result\r\n    * @return {Vector4} dst or new Vector4 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function transformVector(m, v, dst) {\n      dst = dst || new Float32Array(4);\n      for (var i = 0; i < 4; ++i) {\n         dst[i] = 0.0;\n         for (var j = 0; j < 4; ++j) {\n            dst[i] += v[j] * m[j * 4 + i];\n         }\n      }\n      return dst;\n   }\n\n   /**\r\n    * Takes a 4-by-4 matrix and a vector with 3 entries,\r\n    * interprets the vector as a point, transforms that point by the matrix, and\r\n    * returns the result as a vector with 3 entries.\r\n    * @param {Matrix4} m The matrix.\r\n    * @param {Vector3} v The point.\r\n    * @param {Vector4} dst optional vector4 to store result\r\n    * @return {Vector4} dst or new Vector4 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function transformPoint(m, v, dst) {\n      dst = dst || new Float32Array(3);\n      var v0 = v[0];\n      var v1 = v[1];\n      var v2 = v[2];\n      var d = v0 * m[0 * 4 + 3] + v1 * m[1 * 4 + 3] + v2 * m[2 * 4 + 3] + m[3 * 4 + 3];\n\n      dst[0] = (v0 * m[0 * 4 + 0] + v1 * m[1 * 4 + 0] + v2 * m[2 * 4 + 0] + m[3 * 4 + 0]) / d;\n      dst[1] = (v0 * m[0 * 4 + 1] + v1 * m[1 * 4 + 1] + v2 * m[2 * 4 + 1] + m[3 * 4 + 1]) / d;\n      dst[2] = (v0 * m[0 * 4 + 2] + v1 * m[1 * 4 + 2] + v2 * m[2 * 4 + 2] + m[3 * 4 + 2]) / d;\n\n      return dst;\n   }\n\n   /**\r\n    * Takes a 4-by-4 matrix and a vector with 3 entries, interprets the vector as a\r\n    * direction, transforms that direction by the matrix, and returns the result;\r\n    * assumes the transformation of 3-dimensional space represented by the matrix\r\n    * is parallel-preserving, i.e. any combination of rotation, scaling and\r\n    * translation, but not a perspective distortion. Returns a vector with 3\r\n    * entries.\r\n    * @param {Matrix4} m The matrix.\r\n    * @param {Vector3} v The direction.\r\n    * @param {Vector4} dst optional vector4 to store result\r\n    * @return {Vector4} dst or new Vector4 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function transformDirection(m, v, dst) {\n      dst = dst || new Float32Array(3);\n\n      var v0 = v[0];\n      var v1 = v[1];\n      var v2 = v[2];\n\n      dst[0] = v0 * m[0 * 4 + 0] + v1 * m[1 * 4 + 0] + v2 * m[2 * 4 + 0];\n      dst[1] = v0 * m[0 * 4 + 1] + v1 * m[1 * 4 + 1] + v2 * m[2 * 4 + 1];\n      dst[2] = v0 * m[0 * 4 + 2] + v1 * m[1 * 4 + 2] + v2 * m[2 * 4 + 2];\n\n      return dst;\n   }\n\n   /**\r\n    * Takes a 4-by-4 matrix m and a vector v with 3 entries, interprets the vector\r\n    * as a normal to a surface, and computes a vector which is normal upon\r\n    * transforming that surface by the matrix. The effect of this function is the\r\n    * same as transforming v (as a direction) by the inverse-transpose of m.  This\r\n    * function assumes the transformation of 3-dimensional space represented by the\r\n    * matrix is parallel-preserving, i.e. any combination of rotation, scaling and\r\n    * translation, but not a perspective distortion.  Returns a vector with 3\r\n    * entries.\r\n    * @param {Matrix4} m The matrix.\r\n    * @param {Vector3} v The normal.\r\n    * @param {Vector3} [dst] The direction.\r\n    * @return {Vector3} The transformed direction.\r\n    * @memberOf module:webgl-3d-math\r\n    */\n   function transformNormal(m, v, dst) {\n      dst = dst || new Float32Array(3);\n      var mi = inverse(m);\n      var v0 = v[0];\n      var v1 = v[1];\n      var v2 = v[2];\n\n      dst[0] = v0 * mi[0 * 4 + 0] + v1 * mi[0 * 4 + 1] + v2 * mi[0 * 4 + 2];\n      dst[1] = v0 * mi[1 * 4 + 0] + v1 * mi[1 * 4 + 1] + v2 * mi[1 * 4 + 2];\n      dst[2] = v0 * mi[2 * 4 + 0] + v1 * mi[2 * 4 + 1] + v2 * mi[2 * 4 + 2];\n\n      return dst;\n   }\n\n   function copy(src, dst) {\n      dst = dst || new Float32Array(16);\n\n      dst[0] = src[0];\n      dst[1] = src[1];\n      dst[2] = src[2];\n      dst[3] = src[3];\n      dst[4] = src[4];\n      dst[5] = src[5];\n      dst[6] = src[6];\n      dst[7] = src[7];\n      dst[8] = src[8];\n      dst[9] = src[9];\n      dst[10] = src[10];\n      dst[11] = src[11];\n      dst[12] = src[12];\n      dst[13] = src[13];\n      dst[14] = src[14];\n      dst[15] = src[15];\n\n      return dst;\n   }\n\n   return {\n      copy: copy,\n      lookAt: lookAt,\n      addVectors: addVectors,\n      subtractVectors: subtractVectors,\n      distance: distance,\n      distanceSq: distanceSq,\n      normalize: normalize,\n      cross: cross,\n      dot: dot,\n      identity: identity,\n      transpose: transpose,\n      orthographic: orthographic,\n      frustum: frustum,\n      perspective: perspective,\n      translation: translation,\n      translate: translate,\n      xRotation: xRotation,\n      yRotation: yRotation,\n      zRotation: zRotation,\n      xRotate: xRotate,\n      yRotate: yRotate,\n      zRotate: zRotate,\n      axisRotation: axisRotation,\n      axisRotate: axisRotate,\n      scaling: scaling,\n      scale: scale,\n      multiply: multiply,\n      inverse: inverse,\n      transformVector: transformVector,\n      transformPoint: transformPoint,\n      transformDirection: transformDirection,\n      transformNormal: transformNormal\n   };\n}();\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar\n//To draw a series of unconnected line segments (individual lines).\nLINES = exports.LINES = 'LINES'\n//To draw a series of points.\n,\n    POINTS = exports.POINTS = 'POINTS'\n//To draw a series of connected line segments.\n,\n    LINE_STRIP = exports.LINE_STRIP = 'LINE_STRIP'\n//To draw a series of connected line segments. It also joins the first and last vertices to form a loop.\n,\n    LINE_LOOP = exports.LINE_LOOP = 'LINE_LOOP'\n//To draw a series of separate triangles.\n,\n    TRIANGLES = exports.TRIANGLES = 'TRIANGLES'\n//To draw a series of connected triangles in strip fashion.\n,\n    TRIANGLE_STRIP = exports.TRIANGLE_STRIP = 'TRIANGLE_STRIP'\n//To draw a series of connected triangles sharing the first vertex in a fan-like fashion.\n,\n    TRIANGLE_FAN = exports.TRIANGLE_FAN = 'TRIANGLE_FAN',\n    DATATYPE = exports.DATATYPE = 0,\n    TYPE = exports.TYPE = 1,\n    LOCATION = exports.LOCATION = 2,\n    Arrays = exports.Arrays = 'drawArrays',\n    SIZE = exports.SIZE = 0,\n    VertexAttribPointers_DATATYPE = exports.VertexAttribPointers_DATATYPE = 1,\n    NORMALIZE = exports.NORMALIZE = 2,\n    STRIDE = exports.STRIDE = 3,\n    OFFSET = exports.OFFSET = 4,\n    ATTRIB_BUFFER = exports.ATTRIB_BUFFER = 6,\n    ATTRIB_VERTEXES = exports.ATTRIB_VERTEXES = 5,\n    PI2 = exports.PI2 = 2 * Math.PI\n/*,MATRIX\r\n,LIGHT\r\n,SPRITE\r\n,TEXTURE*/\n,\n    ATTRIB = exports.ATTRIB = 0,\n    UNIFORM = exports.UNIFORM = 1,\n    FLOAT = exports.FLOAT = 'FLOAT',\n    FPS = exports.FPS = 16;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\tvalue: true\n});\nexports.Sprite = undefined;\n\nvar _m = __webpack_require__(0);\n\nvar _m2 = _interopRequireDefault(_m);\n\nvar _param = __webpack_require__(9);\n\nvar _param2 = _interopRequireDefault(_param);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Sprite = exports.Sprite = function () {\n\t\t\tfunction _(gl, attribs, uniforms, clauses\n\t\t\t//  ,prefs\n\t\t\t) {\n\t\t\t\t\t\tthis.attribs = attribs;\n\t\t\t\t\t\t//this.prefs = {};\n\t\t\t\t\t\tvertexData.call(this, gl, attribs);\n\t\t\t\t\t\tthis.uniforms = uniforms == undefined ? {} : uniforms;\n\t\t\t\t\t\tthis.clauses = defaultClauses.concat(clauses);\n\t\t\t}\n\t\t\t_.prototype = Object.create(_param2.default.prototype);\n\t\t\t_.prototype.constructor = _;\n\t\t\t_.prototype.vertexData = vertexData;\n\t\t\tfunction vertexData(gl, attribs) {\n\t\t\t\t\t\tvar processed = {};\n\t\t\t\t\t\tfor (var attr in attribs) {\n\t\t\t\t\t\t\t\t\tvar a = attribs[attr];\n\t\t\t\t\t\t\t\t\tvar vertexes = a[C.ATTRIB_VERTEXES];\n\t\t\t\t\t\t\t\t\tif (vertexes == undefined) continue;\n\t\t\t\t\t\t\t\t\t// Multiple attrib may use one vertexes buffer\n\t\t\t\t\t\t\t\t\tvar buffer = processed[vertexes];\n\t\t\t\t\t\t\t\t\tif (buffer == undefined) {\n\t\t\t\t\t\t\t\t\t\t\t\tbuffer = gl.createBuffer();\n\t\t\t\t\t\t\t\t\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n\t\t\t\t\t\t\t\t\t\t\t\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertexes), gl.STATIC_DRAW);\n\t\t\t\t\t\t\t\t\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, null);\n\t\t\t\t\t\t\t\t\t\t\t\tprocessed[vertexes] = buffer;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\ta[C.ATTRIB_BUFFER] = buffer;\n\t\t\t\t\t\t}\n\t\t\t}\n\t\t\t_.prototype.getWorldMatrix = Ghost.prototype.getWorldMatrix;\n\t\t\tfunction getUniforms() {\n\t\t\t\t\t\tvar m = this._scene.getViewProjectionMatrix();\n\t\t\t\t\t\tif (m != undefined) {\n\t\t\t\t\t\t\t\t\tthis.uniforms['u_worldViewProjection'] = _m2.default.multiply(m, this.getWorldMatrix());\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this.uniforms;\n\t\t\t}\n\t\t\t_.prototype.getUniforms = getUniforms;\n\t\t\tvar defaultClauses = [];\n\t\t\tvar defaultPrefs = {\n\t\t\t\t\t\tdrawMethod: 'drawArrays',\n\t\t\t\t\t\tdrawMode: C.TRIANGLES,\n\t\t\t\t\t\tstride: 9\n\t\t\t};\n\t\t\treturn _;\n}();\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\tvalue: true\n});\nvar GameTimer = exports.GameTimer = function () {\n\t\t\tfunction _(fps) {\n\t\t\t\t\t\t//fps:frame per second\n\t\t\t\t\t\tthis._before = 0;\n\t\t\t\t\t\tthis._elapse = 0;\n\t\t\t\t\t\t//second per frame\n\t\t\t\t\t\tif (fps > 0) {\n\t\t\t\t\t\t\t\t\tthis._spf = 1 / fps;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis._spf = 1 / 30;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._stop = 0;\n\t\t\t}\n\t\t\tfunction loop(upt) {\n\t\t\t\t\t\tvar scope = this;\n\t\t\t\t\t\t(function _(now) {\n\t\t\t\t\t\t\t\t\tscope.delta(now);\n\t\t\t\t\t\t\t\t\tif (scope.frame()) {\n\t\t\t\t\t\t\t\t\t\t\t\tupt();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (scope._stop) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\trequestAnimationFrame(_);\n\t\t\t\t\t\t})();\n\t\t\t}\n\t\t\tfunction enable() {\n\t\t\t\t\t\tthis._stop = 0;\n\t\t\t}\n\t\t\t_.prototype.enable = enable;\n\t\t\tfunction stop() {\n\t\t\t\t\t\tthis._stop = 1;\n\t\t\t\t\t\tthis._before = 0;\n\t\t\t\t\t\tthis._elapse = 0;\n\t\t\t}\n\t\t\t_.prototype.loop = loop;\n\t\t\t_.prototype.stop = stop;\n\t\t\tfunction delta(now) {\n\t\t\t\t\t\tvar delta = now == undefined || this._before == 0 ? 0 : now - this._before;\n\t\t\t\t\t\tdelta = delta == 0 ? 0 : delta *= 0.001;\n\t\t\t\t\t\tthis._elapse += delta;\n\t\t\t\t\t\tthis._before = now == undefined ? 0 : now;\n\t\t\t\t\t\treturn delta;\n\t\t\t}\n\t\t\tfunction frame() {\n\t\t\t\t\t\tif (this._elapse < this._spf) {\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis._elapse = this._elapse - this._spf;\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t}\n\t\t\t_.prototype.delta = delta;\n\t\t\t_.prototype.frame = frame;\n\t\t\treturn _;\n}();\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar Vector = exports.Vector = function () {\n    function _(x, y, z) {\n        this.x = x == undefined ? 0 : x;\n        this.y = y == undefined ? 0 : y;\n        this.z = z == undefined ? 0 : z;\n    }\n    //to: destination\n    function add(v, to) {\n        var r = to == undefined ? new _() : to;\n        r.x = this.x + v.x;\n        r.y = this.y + v.y;\n        r.z = this.z + v.z;\n        return r;\n    }\n    function substract(v, to) {\n        var r = to == undefined ? new _() : to;\n        r.x = this.x - v.x;\n        r.y = this.y - v.y;\n        r.z = this.z - v.z;\n        return r;\n    }\n    function length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n    //square\n    function lengthSqr() {\n        return this.x * this.x + this.y * this.y + this.z * this.z;\n    }\n    //scale functions\n    function multiply(n) {\n        this.x *= n;\n        this.y *= n;\n        this.z *= n;\n        return this;\n    }\n    _.prototype.multiply = multiply;\n    function divide(n) {\n        this.x /= n;\n        this.y /= n;\n        this.z /= n;\n        return this;\n    }\n    //magnitude,unit,normal\n    function normalize() {\n        return this.divide(this.length());\n    }\n    _.prototype.zero = function () {\n        this.x = this.y = this.z = 0;\n    };\n    _.prototype.normalize = normalize;\n    _.prototype.divide = divide;\n    _.prototype.length = length;\n    _.prototype.lengthSqr = lengthSqr;\n    _.prototype.add = add;\n    _.prototype.substract = substract;\n    return _;\n}();\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _GlProgramFactory = __webpack_require__(6);\n\nvar _fullscreen = __webpack_require__(7);\n\nvar _line = __webpack_require__(8);\n\nvar _point = __webpack_require__(10);\n\nvar _plane = __webpack_require__(11);\n\nvar _createScene = __webpack_require__(12);\n\nvar _ghost = __webpack_require__(13);\n\nvar _cubePlayer = __webpack_require__(14);\n\nvar _control = __webpack_require__(16);\n\nvar _m = __webpack_require__(0);\n\n__webpack_require__(20);\n\n\nwindow.addEventListener('load', onload);\nfunction onload() {\n    var canvas = document.getElementById(\"cv\");\n    gl = canvas.getContext(\"webgl\");\n    if (!gl) {\n        alert('WebGL Not Supportted');\n        return;\n    }\n    (0, _fullscreen.fullscreen)(gl);\n    var tm = new GameTimer(C.FPS);\n    var features = _GlProgramFactory.createProgram.VERTEX_COLOR | _GlProgramFactory.createProgram.WORLD_VIEW_PROJECT;\n    var prog = (0, _GlProgramFactory.createProgram)(gl, features);\n\n    /*features = glpf.VERTEX_COLOR|glpf.WORLD_PROJECTION;\r\n    const playerProg = glpf(gl,features);\r\n    const player= createCubePlayer(gl);\r\n    const playerPlane= createPlayerPlane(gl);\r\n    control.moveByKeyboard(player);*/\n\n    var li = (0, _line.createLine)(gl);\n    var po = (0, _point.createPoint)(gl);\n    var pl = (0, _plane.createPlane)(gl);\n    var sc = (0, _createScene.createScene)(gl);\n\n    var ghost = new _ghost.Ghost();\n    var ghostMatrix = ghost.getWorldMatrix();\n    _m.m4.translate(ghostMatrix, 0, 0, 0, ghostMatrix);\n    _control.control.moveByKeyboard(ghost);\n    sc.focus(ghost);\n\n    var cubeplayer = (0, _cubePlayer.createCubePlayer)(gl, ghost);\n\n    _control.control.lookAroundByKeyboard(sc);\n    var sprites = [pl, li, po, cubeplayer];\n    for (var i = 0, l = sprites.length; i < l; i++) {\n        sc.addSprite(sprites[i]);\n    }\n\n    /*const wm = player.getSelfWorldMatrix();\r\n    //m4.translate(wm,0,0,1,wm);\r\n    const speedx = 8*Math.PI/180;\r\n    const oneRadian = Math.PI/180;\r\n    const speedy = speedx + 4*oneRadian;\r\n    const speedz = speedy + 2*oneRadian;*/\n\n    tm.loop(function () {\n        /*m4.yRotate(wm,speedy,wm);\r\n        m4.xRotate(wm,speedx,wm);\r\n        m4.zRotate(wm,speedz,wm);*/\n        prog.display(gl, sc);\n        //playerProg.summon(gl,player);\n        //playerProg.summon(gl,playerPlane);\n    });\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\t\tvalue: true\n});\nexports.createProgram = undefined;\n\nvar _constants = __webpack_require__(1);\n\nvar C = _interopRequireWildcard(_constants);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar createProgram = exports.createProgram = function () {\n\t\t\t\tfunction _(gl, bitmask) {\n\t\t\t\t\t\t\t\tvar param = Object.assign({}, defaultParam);\n\t\t\t\t\t\t\t\tvar fstxt = filterLine('f', defaultFragmentShader, param, bitmask);\n\t\t\t\t\t\t\t\t//console.log(fstxt);\n\t\t\t\t\t\t\t\tvar vstxt = filterLine('v', defaultVertexShader, param, bitmask);\n\t\t\t\t\t\t\t\t//console.log(vstxt);\n\t\t\t\t\t\t\t\treturn new GlProgram(gl, vstxt, fstxt, param);\n\t\t\t\t}\n\n\t\t\t\tfunction filterLine(type, defaults, param, bitmask) {\n\t\t\t\t\t\t\t\tvar lines = defaults.split('\\n');\n\t\t\t\t\t\t\t\tfor (var f in Features) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar deletekey;\n\t\t\t\t\t\t\t\t\t\t\t\tif (bitmask & f) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//enable this feacture\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeletekey = type + '-';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar p = Features[f]['p-'];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0, l = p == undefined ? 0 : p.length; j < l; j++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete param[p[j]];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//disable this feacture\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeletekey = type + '+';\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar _p = Features[f]['p+'];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0, l = _p == undefined ? 0 : _p.length; j < l; j++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete param[_p[j]];\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tvar idx = Features[f][deletekey];\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var i = 0, l = idx == undefined ? 0 : idx.length; i < l; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdelete lines[idx[i]];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn lines.join('\\n');\n\t\t\t\t}\n\n\t\t\t\tvar TEXTURE = 1,\n\t\t\t\t    COLOR = 2,\n\t\t\t\t    WORLD_VIEW_PROJECT = 4,\n\t\t\t\t    VERTEX_COLOR = 8,\n\t\t\t\t    WORLD_PROJECTION = 16;\n\t\t\t\t_.TEXTURE = TEXTURE, _.COLOR = COLOR, _.WORLD_PROJECTION = WORLD_PROJECTION, _.WORLD_VIEW_PROJECT = WORLD_VIEW_PROJECT, _.VERTEX_COLOR = VERTEX_COLOR;\n\t\t\t\tvar Features = {\n\t\t\t\t\t\t\t\t16: {\n\t\t\t\t\t\t\t\t\t\t\t\t'v+': [6, 13], 'v-': [8, 10], 'p+': ['u_worldProjection']\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t1: {\n\t\t\t\t\t\t\t\t\t\t\t\t'v+': [1, 2, 9], 'f+': [1, 2, 6], 'f-': [7, 8, 9], 'p+': ['a_texCoord', 'u_image']\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t2: {\n\t\t\t\t\t\t\t\t\t\t\t\t'f+': [3, 8], 'f-': [6, 7, 9], 'p+': ['u_color']\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t4: {\n\t\t\t\t\t\t\t\t\t\t\t\t'v+': [3, 10], 'v-': [8, 13], 'p+': ['u_worldViewProjection']\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t8: {\n\t\t\t\t\t\t\t\t\t\t\t\t'v+': [4, 5, 11], 'f+': [4, 9], 'f-': [2, 3, 6, 7, 8], 'p+': ['a_color']\n\t\t\t\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tvar defaultParam = {\n\t\t\t\t\t\t\t\t\"a_position\": [\"vec2\", C.ATTRIB],\n\t\t\t\t\t\t\t\t\"a_texCoord\": [\"vec2\", C.ATTRIB],\n\t\t\t\t\t\t\t\t\"a_color\": [\"vec2\", C.ATTRIB],\n\t\t\t\t\t\t\t\t\"u_image\": [\"sampler2D\", C.UNIFORM],\n\t\t\t\t\t\t\t\t\"u_color\": [\"vec4\", C.UNIFORM],\n\t\t\t\t\t\t\t\t\"u_worldViewProjection\": [\"mat4\", C.UNIFORM],\n\t\t\t\t\t\t\t\t\"u_worldProjection\": [\"mat4\", C.UNIFORM]\n\t\t\t\t};\n\t\t\t\tvar defaultVertexShader = '\\\r\nattribute vec4 a_position;\\n\\\r\nattribute vec2 a_texCoord;\\n\\\r\nvarying vec2 v_texCoord;\\n\\\r\nuniform mat4 u_worldViewProjection;\\n\\\r\nattribute vec3 a_color;\\n\\\r\nvarying vec3 v_color;\\n\\\r\nuniform mat4 u_worldProjection;\\n\\\r\nvoid main(){\\n\\\r\n    gl_Position = a_position;\\n\\\r\n    v_texCoord = a_texCoord;\\n\\\r\n    gl_Position = u_worldViewProjection * a_position;\\n\\\r\n    v_color = a_color;\\n\\\r\n    gl_PointSize = 8.0; \\n\\\r\n    gl_Position = u_worldProjection * a_position;\\n\\\r\n}';\n\t\t\t\tvar defaultFragmentShader = '\\\r\nprecision mediump float;\\n\\\r\nuniform sampler2D u_image;\\n\\\r\nvarying vec2 v_texCoord;\\n\\\r\nuniform vec4 u_color;\\n\\\r\nvarying vec3 v_color;\\n\\\r\nvoid main() {\\n\\\r\n    gl_FragColor =texture2D(u_image,v_texCoord); \\n\\\r\n    gl_FragColor = vec4(1.0,1.0,1.0,1.0);\\n\\\r\n    gl_FragColor = u_color;\\n\\\r\n    gl_FragColor = vec4(v_color,1.0);\\n\\\r\n}';\n\t\t\t\treturn _;\n}();\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\tvalue: true\n});\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar fullscreen = exports.fullscreen = function () {\n\t\t\tvar _canvas;\n\n\t\t\tfunction _(gl) {\n\t\t\t\t\t\tvar canvas = gl.canvas;\n\t\t\t\t\t\tvar elems = [{ 'elem': document.body, style: 'body' }, { elem: canvas, style: 'canvas' }];\n\t\t\t\t\t\tfor (var i = 0, l = elems.length; i < l; i++) {\n\t\t\t\t\t\t\t\t\tvar e = elems[i].elem;\n\t\t\t\t\t\t\t\t\tvar s = styles[elems[i].style];\n\t\t\t\t\t\t\t\t\tfor (var p in s) {\n\t\t\t\t\t\t\t\t\t\t\t\te.style[p] = s[p];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//make the drawingbuffer match whatever size the browser has stretched the canvas.\n\t\t\t\t\t\tvar cw = canvas.clientWidth;\n\t\t\t\t\t\tvar ch = canvas.clientHeight;\n\t\t\t\t\t\tcv.width = cw;\n\t\t\t\t\t\tcv.height = ch;\n\t\t\t\t\t\twindow.addEventListener('resize', onWindowResize.bind(null, canvas), true);\n\t\t\t}\n\t\t\tfunction onWindowResize(canvas) {\n\t\t\t\t\t\tvar cw = canvas.clientWidth;\n\t\t\t\t\t\tvar ch = canvas.clientHeight;\n\t\t\t\t\t\tcanvas.width = cw;\n\t\t\t\t\t\tcanvas.height = ch;\n\t\t\t}\n\t\t\tvar styles = {\n\t\t\t\t\t\tbody: {\n\t\t\t\t\t\t\t\t\t'box-sizing': 'border-box'\n\t\t\t\t\t\t\t\t\t//,'background':'darkgreen'\n\t\t\t\t\t\t\t\t\t, 'padding': '0',\n\t\t\t\t\t\t\t\t\t'margin': '0',\n\t\t\t\t\t\t\t\t\t'border': '0'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcanvas: (_canvas = {\n\t\t\t\t\t\t\t\t\t'width': '98vw',\n\t\t\t\t\t\t\t\t\t'height': '98vh'\n\t\t\t\t\t\t\t\t\t//,'background':'darkgreen'\n\t\t\t\t\t\t\t\t\t, 'border': '1px solid black',\n\t\t\t\t\t\t\t\t\t'padding': '0'\n\t\t\t\t\t\t}, _defineProperty(_canvas, 'border', '0'), _defineProperty(_canvas, 'position', 'absolute'), _defineProperty(_canvas, 'top', '50%'), _defineProperty(_canvas, 'left', '50%'), _defineProperty(_canvas, 'margin-top', '-49vh'), _defineProperty(_canvas, 'margin-left', '-49vw'), _canvas)\n\t\t\t};\n\t\t\treturn _;\n}();\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\tvalue: true\n});\nexports.createLine = undefined;\n\nvar _sprite = __webpack_require__(2);\n\nvar _sprite2 = _interopRequireDefault(_sprite);\n\nvar _constants = __webpack_require__(1);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createLine = exports.createLine = function () {\n\t\t\tfunction _(gl) {\n\t\t\t\t\t\tvar clauses = {\n\t\t\t\t\t\t\t\t\t'drawArrays': [gl.LINES, 0, defaultVertexes.length / 6]\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar s = new _sprite2.default(gl, defaultAttribs, null, clauses);\n\t\t\t\t\t\treturn s;\n\t\t\t}\n\t\t\tvar defaultVertexes = [\n\t\t\t//position,  color\n\t\t\t-128, 0, 0, 0, 0, 0, 128, 0, 0, 0, 0, 0, //x\n\t\t\t0, -128, 0, 0, 0, 0, 0, 128, 0, 0, 0, 0, //z\n\t\t\t0, 0, -128, 0, 0, 0, 0, 0, 128, 0, 0, 0];\n\t\t\tvar defaultAttribs = {\n\t\t\t\t\t\t'a_position': [3, \"FLOAT\", false, 6 * Float32Array.BYTES_PER_ELEMENT, 0, defaultVertexes],\n\t\t\t\t\t\t'a_color': [3, \"FLOAT\", false, 6 * Float32Array.BYTES_PER_ELEMENT, 3 * Float32Array.BYTES_PER_ELEMENT, defaultVertexes]\n\t\t\t};\n\t\t\treturn _;\n}();\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n   value: true\n});\nvar Param = exports.Param = function () {\n   function _() {}\n   _.prototype.getUniforms = function () {\n      return this.uniforms;\n   };\n   function getClauses() {\n      return this.clauses;\n   }\n   _.prototype.getClauses = getClauses;\n   return _;\n}();\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\tvalue: true\n});\nexports.createPoint = undefined;\n\nvar _sprite = __webpack_require__(2);\n\nvar _sprite2 = _interopRequireDefault(_sprite);\n\nvar _constants = __webpack_require__(1);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createPoint = exports.createPoint = function () {\n\t\t\tfunction _(gl) {\n\t\t\t\t\t\tvar clauses = {\n\t\t\t\t\t\t\t\t\t'drawArrays': [gl.POINTS, 0, defaultVertexes.length / 6]\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar s = new _sprite2.default(gl, defaultAttribs, null, clauses);\n\t\t\t\t\t\treturn s;\n\t\t\t}\n\t\t\tvar defaultVertexes = [\n\t\t\t//position,  color\n\t\t\t0, 0, 0, 1, 0, 0];\n\t\t\tvar defaultAttribs = {\n\t\t\t\t\t\t'a_position': [3, \"FLOAT\", false, 6 * Float32Array.BYTES_PER_ELEMENT, 0, defaultVertexes],\n\t\t\t\t\t\t'a_color': [3, \"FLOAT\", false, 6 * Float32Array.BYTES_PER_ELEMENT, 3 * Float32Array.BYTES_PER_ELEMENT, defaultVertexes]\n\t\t\t};\n\t\t\treturn _;\n}();\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\tvalue: true\n});\nexports.createPlane = undefined;\n\nvar _sprite = __webpack_require__(2);\n\nvar _sprite2 = _interopRequireDefault(_sprite);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createPlane = exports.createPlane = function () {\n\t\t\tfunction _(gl) {\n\t\t\t\t\t\tvar clauses = {\n\t\t\t\t\t\t\t\t\t'drawArrays': [gl.TRIANGLES, 0, defaultVertexes.length / 6]\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar s = new _sprite2.default(gl, defaultAttribs, null, clauses);\n\t\t\t\t\t\treturn s;\n\t\t\t}\n\t\t\tvar defaultVertexes = [\n\t\t\t//position                      color\n\t\t\t-16, 0, -16, 0.2, 0.1, 0.4, 16, 0, 16, 0.2, 0.1, 0.4, 16, 0, -16, 0.2, 0.1, 0.4, 16, 0, 16, 0.2, 0.1, 0.4, -16, 0, -16, 0.2, 0.1, 0.4, -16, 0, 16, 0.2, 0.1, 0.4];\n\t\t\tvar defaultAttribs = {\n\t\t\t\t\t\t'a_position': [3, \"FLOAT\", false, 6 * Float32Array.BYTES_PER_ELEMENT, 0, defaultVertexes],\n\t\t\t\t\t\t'a_color': [3, \"FLOAT\", false, 6 * Float32Array.BYTES_PER_ELEMENT, 3 * Float32Array.BYTES_PER_ELEMENT, defaultVertexes]\n\t\t\t};\n\t\t\treturn _;\n}();\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\t\tvalue: true\n});\nvar createScene = exports.createScene = function () {\n\t\t\t\tfunction _(gl) {\n\t\t\t\t\t\t\t\tvar sc = new Scene(gl);\n\t\t\t\t\t\t\t\t//create viewProjectionMatrix\n\t\t\t\t\t\t\t\t//const cameraMatrix = m4.identity();\n\t\t\t\t\t\t\t\t//m4.translate(cameraMatrix, 8, 8, 8,cameraMatrix);\n\t\t\t\t\t\t\t\tsc.setTranslateMatrix(m4.translate(m4.identity(), 0, 2, 4));\n\t\t\t\t\t\t\t\t//const target= [0, 0, 0];\n\t\t\t\t\t\t\t\t/*const cameraPosition  =[ cameraMatrix[12], cameraMatrix[13], cameraMatrix[14], ];\r\n        const up = [0, 1, 0];\r\n        m4.lookAt(cameraPosition, target, up,cameraMatrix);*/\n\t\t\t\t\t\t\t\t//#############################################/\n\t\t\t\t\t\t\t\t//sc._cameraMatrix = cameraMatrix;\n\t\t\t\t\t\t\t\t//const viewMatrix =m4.inverse(cameraMatrix);\n\t\t\t\t\t\t\t\tvar aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\n\t\t\t\t\t\t\t\tvar zNear = 1;\n\t\t\t\t\t\t\t\tvar zFar = -1024;\n\t\t\t\t\t\t\t\tvar fieldOfViewRadians = degToRad(75);\n\t\t\t\t\t\t\t\tvar projectionMatrix = m4.perspective(fieldOfViewRadians, aspect, zNear, zFar);\n\t\t\t\t\t\t\t\t//#############################################/\n\t\t\t\t\t\t\t\tsc._projectionMatrix = projectionMatrix;\n\t\t\t\t\t\t\t\t//viewProjectionMatrix = m4.multiply(projectionMatrix,viewMatrix );\n\t\t\t\t\t\t\t\t// create scene and attach viewProjectionMatrix to it\n\t\t\t\t\t\t\t\t//sc._viewProjectionMatrix = viewProjectionMatrix;\n\t\t\t\t\t\t\t\treturn sc;\n\t\t\t\t}\n\t\t\t\treturn _;\n}();\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar Ghost = exports.Ghost = function () {\n    function _() {}\n    function getWorldMatrix() {\n        return U.getMatrix.call(this, '_worldMatrix');\n    }\n    _.prototype.getWorldMatrix = getWorldMatrix;\n    return _;\n}();\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.createCubePlayer = undefined;\n\nvar _player = __webpack_require__(15);\n\nvar _player2 = _interopRequireDefault(_player);\n\nvar _m = __webpack_require__(0);\n\nvar _m2 = _interopRequireDefault(_m);\n\nvar _constants = __webpack_require__(1);\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createCubePlayer = exports.createCubePlayer = function () {\n\tfunction _(gl, cameraMatrix) {\n\t\tvar clauses = {\n\t\t\t'drawArrays': [gl.TRIANGLES, 0, defaultVertexes.length / 6]\n\t\t};\n\t\tvar cb = new _player2.default(gl, defaultAttribs, defaultUniforms, clauses, cameraMatrix);\n\t\tvar follow = cb.getWorldMatrix;\n\t\tcb.getWorldMatrix = function () {\n\t\t\tvar worldMatrix = follow(cb, cameraMatrix);\n\t\t\t_m2.default.translate(worldMatrix, 0, 0, 1, worldMatrix);\n\t\t\treturn worldMatrix;\n\t\t};\n\t\treturn cb;\n\t}\n\n\tvar defaultUniforms = {\n\t\t//'u_color':[1,0,0,1]\n\t};\n\tvar defaultVertexes = [\n\t//front\n\t-1, -1, 0, 1, 1, 0, 1, -1, 0, 1, 1, 0, -1, 1, 0, 1, 1, 0, -1, 1, 0, 1, 0, 0, 1, -1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0,\n\t//right\n\t1, 1, 0, 0, 0, 1, 1, -1, 0, 0, 0, 1, 1, -1, -2, 0, 0, 1, 1, -1, -2, 0, 0, 1, 1, 1, -2, 0, 0, 1, 1, 1, 0, 0, 0, 1,\n\t//back\n\t1, -1, -2, 1, 0, 0, -1, -1, -2, 1, 0, 0, 1, 1, -2, 1, 0, 0, 1, 1, -2, 1, 0, 0, -1, -1, -2, 1, 0, 0, -1, 1, -2, 1, 0, 0,\n\t//left\n\t-1, 1, -2, 0, 0, 1, -1, -1, -2, 0, 0, 1, -1, -1, 0, 0, 0, 1, -1, -1, 0, 0, 0, 1, -1, 1, 0, 0, 0, 1, -1, 1, -2, 0, 0, 1,\n\t//top\n\t-1, 1, -2, 0, 1, 0, -1, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 1, 0, 0, 1, 0, 1, 1, -2, 0, 1, 0, -1, 1, -2, 0, 1, 0,\n\t//bottom\n\t-1, -1, 0, 0, 0, 1, -1, -1, -2, 0, 0, 1, 1, -1, 0, 0, 0, 1, 1, -1, 0, 0, 0, 1, -1, -1, -2, 0, 0, 1, 1, -1, -2, 0, 0, 1];\n\tvar defaultAttribs = {\n\t\t'a_position': [3, _constants2.default.FLOAT, false, 6 * Float32Array.BYTES_PER_ELEMENT, 0, defaultVertexes],\n\t\t'a_color': [3, _constants2.default.FLOAT, false, 6 * Float32Array.BYTES_PER_ELEMENT, 3 * Float32Array.BYTES_PER_ELEMENT, defaultVertexes]\n\t};\n\treturn _;\n}();\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\tvalue: true\n});\nexports.Player = undefined;\n\nvar _sprite = __webpack_require__(2);\n\nvar _sprite2 = _interopRequireDefault(_sprite);\n\nvar _m = __webpack_require__(0);\n\nvar _m2 = _interopRequireDefault(_m);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Player = exports.Player = function () {\n\t\t\tfunction _(gl, attribs, uniforms, clauses, ghost) {\n\t\t\t\t\t\t_sprite2.default.call(this, gl, attribs, uniforms, clauses);\n\t\t\t\t\t\tthis._worldMatrix = _m2.default.identity();\n\t\t\t\t\t\t//m4.translate(this._worldMatrix,0,0,-2,this._worldMatrix);\n\t\t\t\t\t\tthis.getWorldMatrix = follow.bind(this, ghost);\n\t\t\t}\n\t\t\tfunction follow(ghost) {\n\t\t\t\t\t\t//Step forward to let camera can see the player\n\t\t\t\t\t\tthis._worldMatrix = _m2.default.identity();\n\t\t\t\t\t\t_m2.default.multiply(this._worldMatrix, ghost.getWorldMatrix(), this._worldMatrix);\n\t\t\t\t\t\t//m4.translate(this._worldMatrix,0,0,0,this._worldMatrix);\n\t\t\t\t\t\t//m4.scale(this._worldMatrix,0.4,0.4,0.4,this._worldMatrix);\n\t\t\t\t\t\treturn this._worldMatrix;\n\t\t\t}\n\t\t\t_.prototype = Object.create(_sprite2.default.prototype);\n\t\t\t_.prototype.constructor = _;\n\t\t\t/*function getUniforms(){\r\n   const m =this._scene.getProjectionMatrix();\r\n   //Get rid of viewMatrix to let player stay in front of camera.\r\n   this.uniforms['u_worldViewProjection'] = m4.multiply(m,this.getWorldMatrix());\r\n   return this.uniforms;\r\n   }\r\n   _.prototype.getUniforms = getUniforms;*/\n\t\t\treturn _;\n}();\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.control = undefined;\n\nvar _timer = __webpack_require__(3);\n\nvar _timer2 = _interopRequireDefault(_timer);\n\nvar _m = __webpack_require__(0);\n\nvar _m2 = _interopRequireDefault(_m);\n\nvar _walker = __webpack_require__(17);\n\nvar _walker2 = _interopRequireDefault(_walker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//import GameMath from './game-math.js'\n\nvar control = exports.control = function () {\n\tvar _ = {};\n\tvar lookAroundByKeyboard = function () {\n\t\tvar SPEED = 16;\n\t\tvar ZERO = { x: 0, y: 0, z: 0 };\n\t\tvar UP = { x: SPEED * Math.PI / 180, y: 0, z: 0 };\n\t\tvar DOWN = { x: -SPEED * Math.PI / 180, y: 0, z: 0 };\n\t\tvar RIGHT = { x: 0, y: -SPEED * Math.PI / 180, z: 0 };\n\t\tvar LEFT = { x: 0, y: SPEED * Math.PI / 180, z: 0 };\n\t\t/*UP= gm.pitchYawRoll2xyz(SPEED,0,0),\r\n    DOWN= gm.pitchYawRoll2xyz(-SPEED,0,0),\r\n    LEFT= gm.pitchYawRoll2xyz(0,-SPEED,0),\r\n    RIGHT= gm.pitchYawRoll2xyz(0,SPEED,0);*/\n\t\tvar scene,\n\t\t    tm,\n\t\t    rotation = ZERO;\n\t\tfunction _(s) {\n\t\t\tscene = s;\n\t\t\tdocument.body.addEventListener('keydown', onkeydown);\n\t\t\tdocument.body.addEventListener('keyup', onkeyup);\n\t\t\ttm = new _timer2.default(C.FPS);\n\t\t}\n\t\tfunction onkeyup(et) {\n\t\t\ttm.stop();\n\t\t\trotation = ZERO;\n\t\t\tif (et.keyCode == 72) {//left,h\n\t\t\t} else if (et.keyCode == 76) {//right,l\n\t\t\t} else if (et.keyCode == 75) {//up,j\n\t\t\t} else if (et.keyCode == 74) {//down,k\n\t\t\t}\n\t\t}\n\n\t\tfunction onkeydown(et) {\n\t\t\ttm.enable();\n\t\t\tif (et.keyCode == 65) {\n\t\t\t\t//left,a\n\t\t\t\trotation = LEFT;\n\t\t\t} else if (et.keyCode == 83) {\n\t\t\t\t//up,s\n\t\t\t\trotation = UP;\n\t\t\t} else if (et.keyCode == 68) {\n\t\t\t\t//down,d\n\t\t\t\trotation = DOWN;\n\t\t\t} else if (et.keyCode == 70) {\n\t\t\t\t//right,f\n\t\t\t\trotation = RIGHT;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttm.loop(lookaround);\n\t\t}\n\t\tfunction lookaround() {\n\t\t\tvar c = scene.getRotateMatrix();\n\t\t\t_m2.default.xRotate(c, rotation.x, c);\n\t\t\t_m2.default.yRotate(c, rotation.y, c);\n\t\t\t_m2.default.zRotate(c, rotation.z, c);\n\t\t\t//console.log(rotation.x,rotation.y,rotation.z);\n\t\t}\n\t\treturn _;\n\t}();\n\t_.lookAroundByKeyboard = lookAroundByKeyboard;\n\tvar moveByKeyboard = function () {\n\n\t\tfunction _(s) {\n\t\t\tnew _walker2.default(s);\n\t\t}\n\t\treturn _;\n\t}();\n\t_.moveByKeyboard = moveByKeyboard;\n\treturn _;\n}();\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Walker = undefined;\n\nvar _timer = __webpack_require__(3);\n\nvar _timer2 = _interopRequireDefault(_timer);\n\nvar _gameMath = __webpack_require__(18);\n\nvar _gameMath2 = _interopRequireDefault(_gameMath);\n\nvar _vector = __webpack_require__(4);\n\nvar _vector2 = _interopRequireDefault(_vector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Walker = exports.Walker = function () {\n    var INIT = 0.4,\n        ACCELERATION = 0.16,\n        GOAL = 0.8;\n    function _(s) {\n        this._sprite = s;\n        document.body.addEventListener('keydown', onkeydown.bind(this));\n        document.body.addEventListener('keyup', onkeyup.bind(this));\n        this._timer = new _timer2.default(C.FPS);\n        this._velocity = new _vector2.default();\n        this._movement = new _vector2.default();\n        this._goal = { x: 0, z: 0 };\n    }\n    function onkeyup(et) {\n        this._goal.z = this._goal.x = 0;\n        if (et.keyCode == 72) {//left,h\n        } else if (et.keyCode == 76) {//right,l\n        } else if (et.keyCode == 75) {//up,j\n        } else if (et.keyCode == 74) {//down,k\n        }\n    }\n\n    function onkeydown(et) {\n        this._timer.enable();\n        if (et.keyCode == 72) {\n            //left,h\n            if (this._goal.x == -GOAL) return;\n            this._movement.x = -INIT;\n            this._goal.x = -GOAL;\n        } else if (et.keyCode == 76) {\n            //right,l\n            if (this._goal.x == GOAL) return;\n            this._movement.x = INIT;\n            this._goal.x = GOAL;\n        } else if (et.keyCode == 75) {\n            //forward,k\n            if (this._goal.z == -GOAL) return;\n            this._movement.z = -INIT;\n            this._goal.z = -GOAL;\n        } else if (et.keyCode == 74) {\n            //backward,j\n            if (this._goal.z == GOAL) return;\n            this._movement.z = INIT;\n            this._goal.z = GOAL;\n        } else {\n            return;\n        }\n        this._timer.loop(move.bind(this));\n    }\n    function move() {\n        var worldMatrix = this._sprite.getWorldMatrix();\n        m4.translate(worldMatrix, this._velocity.x, 0, this._velocity.z, worldMatrix);\n        if (this._movement.x != this._goal.x) {\n            var r = _gameMath2.default.approach(this._goal.x, this._movement.x, ACCELERATION);\n            this._movement.x = r;\n        }\n        if (this._movement.z != this._goal.z) this._movement.z = _gameMath2.default.approach(this._goal.z, this._movement.z, ACCELERATION);\n        if (this._movement.x == 0 && this._movement.z == 0) {\n            this._timer.stop();\n        }\n        //const up = {x:0,y:1,z:0};\n        // calculte forward/right direction vector using cross product\n        //var right = GameMath.cross(up,forward);\n\n        // Use cameraMatrix to get real time direction vector\n        var cameraMatrix = this._sprite._scene.getCameraMatrix();\n        var forward = new _vector2.default(cameraMatrix[0], cameraMatrix[1], cameraMatrix[2]);\n        forward.normalize();\n        var right = new _vector2.default(cameraMatrix[8], cameraMatrix[9], cameraMatrix[10]);\n        right.normalize();\n        // real time translation\n        this._velocity = right.multiply(this._movement.z).add(forward.multiply(this._movement.x));\n    }\n    return _;\n}();\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\t\t\tvalue: true\n});\nexports.GameMath = undefined;\n\nvar _EAngle = __webpack_require__(19);\n\nvar _EAngle2 = _interopRequireDefault(_EAngle);\n\nvar _vector = __webpack_require__(4);\n\nvar _vector2 = _interopRequireDefault(_vector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar GameMath = exports.GameMath = function () {\n\t\t\tvar _ = {};\n\t\t\t_.pitchYawRoll2xyz = function (p, y, r) {\n\t\t\t\t\t\treturn new _EAngle2.default(p, y, r).toVector();\n\t\t\t};\n\n\t\t\t//linear interpolate speed up/down\n\t\t\t_.approach = function (goal, current, delta) {\n\t\t\t\t\t\tvar diff = goal - current;\n\t\t\t\t\t\t//console.log(goal,current,diff,delta);\n\t\t\t\t\t\t//speed up\n\t\t\t\t\t\tif (diff > delta) {\n\t\t\t\t\t\t\t\t\treturn current + delta;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// speed down\n\t\t\t\t\t\tif (diff < -delta) return current - delta;\n\n\t\t\t\t\t\treturn goal;\n\t\t\t};\n\t\t\t_.dotProduct = function (a, b) {\n\t\t\t\t\t\treturn a.x * b.x + a.y * b.y + a.z * b.z;\n\t\t\t};\n\t\t\t//Cross Product\n\t\t\t_.cross = function (a, b) {\n\t\t\t\t\t\tvar c = new _vector2.default();\n\t\t\t\t\t\tc.x = a.y * b.z - a.z * b.y;\n\t\t\t\t\t\tc.y = a.z * b.x - a.x * b.z;\n\t\t\t\t\t\tc.z = a.x * b.y - a.y * b.x;\n\t\t\t\t\t\treturn c;\n\t\t\t};\n\n\t\t\treturn _;\n}();\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar EAngle = exports.EAngle = function () {\n    function _(pitch, yaw, roll) {\n        this.p = pitch; //head up/down\n        this.y = yaw; //head north/south/west/east\n        this.r = roll; //wing up/down\n    }\n    function toVector() {\n        var result = new Vector();\n        result.x = Math.cos(this.y) * Math.cos(this.p);\n        result.y = Math.sin(this.p);\n        result.z = Math.sin(this.y) * Math.cos(this.p);\n        return result;\n    }\n    _.prototype.toVector = toVector;\n    function normalize() {\n        if (this.p > 89) this.p = 89;\n        if (this.p < -89) this.p = -89;\n\n        while (this.y < -180) {\n            this.y += 360;\n        }while (this.y > 180) {\n            this.y -= 360;\n        }\n    }\n    return _;\n}();\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(21);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(23)(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./proto-game.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./proto-game.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(22)(false);\n// imports\n\n\n// module\nexports.push([module.i, \"#cv{border:1px solid #000}body{background:#55d8dc}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tvar styleTarget = fn.call(this, selector);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[selector] = styleTarget;\n\t\t}\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(24);\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// proto_game-bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 55288d17ece1d887d4aa","/*\r\n * Copyright 2014, Gregg Tavares.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are\r\n * met:\r\n *\r\n *     * Redistributions of source code must retain the above copyright\r\n * notice, this list of conditions and the following disclaimer.\r\n *     * Redistributions in binary form must reproduce the above\r\n * copyright notice, this list of conditions and the following disclaimer\r\n * in the documentation and/or other materials provided with the\r\n * distribution.\r\n *     * Neither the name of Gregg Tavares. nor the names of his\r\n * contributors may be used to endorse or promote products derived from\r\n * this software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\n\r\n/**\r\n * Various 3d math functions.\r\n *\r\n * @module webgl-3d-math\r\n */\r\nexport const m4 =(function() {\r\n   \"use strict\";\r\n\r\n   /**\r\n    * An array or typed array with 3 values.\r\n    * @typedef {number[]|TypedArray} Vector3\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n\r\n   /**\r\n    * An array or typed array with 4 values.\r\n    * @typedef {number[]|TypedArray} Vector4\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n\r\n   /**\r\n    * An array or typed array with 16 values.\r\n    * @typedef {number[]|TypedArray} Matrix4\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n\r\n   /**\r\n    * Takes two 4-by-4 matrices, a and b, and computes the product in the order\r\n    * that pre-composes b with a.  In other words, the matrix returned will\r\n    * transform by b first and then a.  Note this is subtly different from just\r\n    * multiplying the matrices together.  For given a and b, this function returns\r\n    * the same object in both row-major and column-major mode.\r\n    * @param {Matrix4} a A matrix.\r\n    * @param {Matrix4} b A matrix.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    */\r\n   function multiply(a, b, dst) {\r\n      dst = dst || new Float32Array(16);\r\n      var b00 = b[0 * 4 + 0];\r\n      var b01 = b[0 * 4 + 1];\r\n      var b02 = b[0 * 4 + 2];\r\n      var b03 = b[0 * 4 + 3];\r\n      var b10 = b[1 * 4 + 0];\r\n      var b11 = b[1 * 4 + 1];\r\n      var b12 = b[1 * 4 + 2];\r\n      var b13 = b[1 * 4 + 3];\r\n      var b20 = b[2 * 4 + 0];\r\n      var b21 = b[2 * 4 + 1];\r\n      var b22 = b[2 * 4 + 2];\r\n      var b23 = b[2 * 4 + 3];\r\n      var b30 = b[3 * 4 + 0];\r\n      var b31 = b[3 * 4 + 1];\r\n      var b32 = b[3 * 4 + 2];\r\n      var b33 = b[3 * 4 + 3];\r\n      var a00 = a[0 * 4 + 0];\r\n      var a01 = a[0 * 4 + 1];\r\n      var a02 = a[0 * 4 + 2];\r\n      var a03 = a[0 * 4 + 3];\r\n      var a10 = a[1 * 4 + 0];\r\n      var a11 = a[1 * 4 + 1];\r\n      var a12 = a[1 * 4 + 2];\r\n      var a13 = a[1 * 4 + 3];\r\n      var a20 = a[2 * 4 + 0];\r\n      var a21 = a[2 * 4 + 1];\r\n      var a22 = a[2 * 4 + 2];\r\n      var a23 = a[2 * 4 + 3];\r\n      var a30 = a[3 * 4 + 0];\r\n      var a31 = a[3 * 4 + 1];\r\n      var a32 = a[3 * 4 + 2];\r\n      var a33 = a[3 * 4 + 3];\r\n      dst[ 0] = b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30;\r\n      dst[ 1] = b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31;\r\n      dst[ 2] = b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32;\r\n      dst[ 3] = b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33;\r\n      dst[ 4] = b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30;\r\n      dst[ 5] = b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31;\r\n      dst[ 6] = b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32;\r\n      dst[ 7] = b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33;\r\n      dst[ 8] = b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30;\r\n      dst[ 9] = b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31;\r\n      dst[10] = b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32;\r\n      dst[11] = b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33;\r\n      dst[12] = b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30;\r\n      dst[13] = b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31;\r\n      dst[14] = b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32;\r\n      dst[15] = b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33;\r\n      return dst;\r\n   }\r\n\r\n\r\n   /**\r\n    * adds 2 vectors3s\r\n    * @param {Vector3} a a\r\n    * @param {Vector3} b b\r\n    * @param {Vector3} dst optional vector3 to store result\r\n    * @return {Vector3} dst or new Vector3 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function addVectors(a, b, dst) {\r\n      dst = dst || new Float32Array(3);\r\n      dst[0] = a[0] + b[0];\r\n      dst[1] = a[1] + b[1];\r\n      dst[2] = a[2] + b[2];\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * subtracts 2 vectors3s\r\n    * @param {Vector3} a a\r\n    * @param {Vector3} b b\r\n    * @param {Vector3} dst optional vector3 to store result\r\n    * @return {Vector3} dst or new Vector3 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function subtractVectors(a, b, dst) {\r\n      dst = dst || new Float32Array(3);\r\n      dst[0] = a[0] - b[0];\r\n      dst[1] = a[1] - b[1];\r\n      dst[2] = a[2] - b[2];\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * normalizes a vector.\r\n    * @param {Vector3} v vector to normalzie\r\n    * @param {Vector3} dst optional vector3 to store result\r\n    * @return {Vector3} dst or new Vector3 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function normalize(v, dst) {\r\n      dst = dst || new Float32Array(3);\r\n      var length = Math.sqrt(v[0] * v[0] + v[1] * v[1] + v[2] * v[2]);\r\n      // make sure we don't divide by 0.\r\n      if (length > 0.00001) {\r\n         dst[0] = v[0] / length;\r\n         dst[1] = v[1] / length;\r\n         dst[2] = v[2] / length;\r\n      }\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Computes the cross product of 2 vectors3s\r\n    * @param {Vector3} a a\r\n    * @param {Vector3} b b\r\n    * @param {Vector3} dst optional vector3 to store result\r\n    * @return {Vector3} dst or new Vector3 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function cross(a, b, dst) {\r\n      dst = dst || new Float32Array(3);\r\n      dst[0] = a[1] * b[2] - a[2] * b[1];\r\n      dst[1] = a[2] * b[0] - a[0] * b[2];\r\n      dst[2] = a[0] * b[1] - a[1] * b[0];\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Computes the dot product of two vectors; assumes both vectors have\r\n    * three entries.\r\n    * @param {Vector3} a Operand vector.\r\n    * @param {Vector3} b Operand vector.\r\n    * @return {number} dot product\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function dot(a, b) {\r\n      return (a[0] * b[0]) + (a[1] * b[1]) + (a[2] * b[2]);\r\n   }\r\n\r\n   /**\r\n    * Computes the distance squared between 2 points\r\n    * @param {Vector3} a\r\n    * @param {Vector3} b\r\n    * @return {nubmer} distance squared between a and b\r\n    */\r\n   function distanceSq(a, b) {\r\n      const dx = a[0] - b[0];\r\n      const dy = a[1] - b[1];\r\n      const dz = a[2] - b[2];\r\n      return dx * dx + dy * dy + dz * dz;\r\n   }\r\n\r\n   /**\r\n    * Computes the distance between 2 points\r\n    * @param {Vector3} a\r\n    * @param {Vector3} b\r\n    * @return {nubmer} distance between a and b\r\n    */\r\n   function distance(a, b) {\r\n      return Math.sqrt(distanceSq(a, b));\r\n   }\r\n\r\n   /**\r\n    * Makes an identity matrix.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function identity(dst) {\r\n      dst = dst || new Float32Array(16);\r\n\r\n      dst[ 0] = 1;\r\n      dst[ 1] = 0;\r\n      dst[ 2] = 0;\r\n      dst[ 3] = 0;\r\n      dst[ 4] = 0;\r\n      dst[ 5] = 1;\r\n      dst[ 6] = 0;\r\n      dst[ 7] = 0;\r\n      dst[ 8] = 0;\r\n      dst[ 9] = 0;\r\n      dst[10] = 1;\r\n      dst[11] = 0;\r\n      dst[12] = 0;\r\n      dst[13] = 0;\r\n      dst[14] = 0;\r\n      dst[15] = 1;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Transposes a matrix.\r\n    * @param {Matrix4} m matrix to transpose.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function transpose(m, dst) {\r\n      dst = dst || new Float32Array(16);\r\n\r\n      dst[ 0] = m[0];\r\n      dst[ 1] = m[4];\r\n      dst[ 2] = m[8];\r\n      dst[ 3] = m[12];\r\n      dst[ 4] = m[1];\r\n      dst[ 5] = m[5];\r\n      dst[ 6] = m[9];\r\n      dst[ 7] = m[13];\r\n      dst[ 8] = m[2];\r\n      dst[ 9] = m[6];\r\n      dst[10] = m[10];\r\n      dst[11] = m[14];\r\n      dst[12] = m[3];\r\n      dst[13] = m[7];\r\n      dst[14] = m[11];\r\n      dst[15] = m[15];\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Creates a lookAt matrix.\r\n    * This is a world matrix for a camera. In other words it will transform\r\n    * from the origin to a place and orientation in the world. For a view\r\n    * matrix take the inverse of this.\r\n    * @param {Vector3} cameraPosition position of the camera\r\n    * @param {Vector3} target position of the target\r\n    * @param {Vector3} up direction\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function lookAt(cameraPosition, target, up, dst) {\r\n      dst = dst || new Float32Array(16);\r\n      var zAxis = normalize(\r\n         subtractVectors(cameraPosition, target));\r\n      var xAxis = normalize(cross(up, zAxis));\r\n      var yAxis = normalize(cross(zAxis, xAxis));\r\n\r\n      dst[ 0] = xAxis[0];\r\n      dst[ 1] = xAxis[1];\r\n      dst[ 2] = xAxis[2];\r\n      dst[ 3] = 0;\r\n      dst[ 4] = yAxis[0];\r\n      dst[ 5] = yAxis[1];\r\n      dst[ 6] = yAxis[2];\r\n      dst[ 7] = 0;\r\n      dst[ 8] = zAxis[0];\r\n      dst[ 9] = zAxis[1];\r\n      dst[10] = zAxis[2];\r\n      dst[11] = 0;\r\n      dst[12] = cameraPosition[0];\r\n      dst[13] = cameraPosition[1];\r\n      dst[14] = cameraPosition[2];\r\n      dst[15] = 1;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Computes a 4-by-4 perspective transformation matrix given the angular height\r\n    * of the frustum, the aspect ratio, and the near and far clipping planes.  The\r\n    * arguments define a frustum extending in the negative z direction.  The given\r\n    * angle is the vertical angle of the frustum, and the horizontal angle is\r\n    * determined to produce the given aspect ratio.  The arguments near and far are\r\n    * the distances to the near and far clipping planes.  Note that near and far\r\n    * are not z coordinates, but rather they are distances along the negative\r\n    * z-axis.  The matrix generated sends the viewing frustum to the unit box.\r\n    * We assume a unit box extending from -1 to 1 in the x and y dimensions and\r\n    * from -1 to 1 in the z dimension.\r\n    * @param {number} fieldOfViewInRadians field of view in y axis.\r\n    * @param {number} aspect aspect of viewport (width / height)\r\n    * @param {number} near near Z clipping plane\r\n    * @param {number} far far Z clipping plane\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function perspective(fieldOfViewInRadians, aspect, near, far, dst) {\r\n      dst = dst || new Float32Array(16);\r\n      var f = Math.tan(Math.PI * 0.5 - 0.5 * fieldOfViewInRadians);\r\n      var rangeInv = 1.0 / (near - far);\r\n\r\n      dst[ 0] = f / aspect;\r\n      dst[ 1] = 0;\r\n      dst[ 2] = 0;\r\n      dst[ 3] = 0;\r\n      dst[ 4] = 0;\r\n      dst[ 5] = f;\r\n      dst[ 6] = 0;\r\n      dst[ 7] = 0;\r\n      dst[ 8] = 0;\r\n      dst[ 9] = 0;\r\n      dst[10] = (near + far) * rangeInv;\r\n      dst[11] = -1;\r\n      dst[12] = 0;\r\n      dst[13] = 0;\r\n      dst[14] = near * far * rangeInv * 2;\r\n      dst[15] = 0;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Computes a 4-by-4 orthographic projection matrix given the coordinates of the\r\n    * planes defining the axis-aligned, box-shaped viewing volume.  The matrix\r\n    * generated sends that box to the unit box.  Note that although left and right\r\n    * are x coordinates and bottom and top are y coordinates, near and far\r\n    * are not z coordinates, but rather they are distances along the negative\r\n    * z-axis.  We assume a unit box extending from -1 to 1 in the x and y\r\n    * dimensions and from -1 to 1 in the z dimension.\r\n    * @param {number} left The x coordinate of the left plane of the box.\r\n    * @param {number} right The x coordinate of the right plane of the box.\r\n    * @param {number} bottom The y coordinate of the bottom plane of the box.\r\n    * @param {number} top The y coordinate of the right plane of the box.\r\n    * @param {number} near The negative z coordinate of the near plane of the box.\r\n    * @param {number} far The negative z coordinate of the far plane of the box.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function orthographic(left, right, bottom, top, near, far, dst) {\r\n      dst = dst || new Float32Array(16);\r\n\r\n      dst[ 0] = 2 / (right - left);\r\n      dst[ 1] = 0;\r\n      dst[ 2] = 0;\r\n      dst[ 3] = 0;\r\n      dst[ 4] = 0;\r\n      dst[ 5] = 2 / (top - bottom);\r\n      dst[ 6] = 0;\r\n      dst[ 7] = 0;\r\n      dst[ 8] = 0;\r\n      dst[ 9] = 0;\r\n      dst[10] = 2 / (near - far);\r\n      dst[11] = 0;\r\n      dst[12] = (left + right) / (left - right);\r\n      dst[13] = (bottom + top) / (bottom - top);\r\n      dst[14] = (near + far) / (near - far);\r\n      dst[15] = 1;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Computes a 4-by-4 perspective transformation matrix given the left, right,\r\n    * top, bottom, near and far clipping planes. The arguments define a frustum\r\n    * extending in the negative z direction. The arguments near and far are the\r\n    * distances to the near and far clipping planes. Note that near and far are not\r\n    * z coordinates, but rather they are distances along the negative z-axis. The\r\n    * matrix generated sends the viewing frustum to the unit box. We assume a unit\r\n    * box extending from -1 to 1 in the x and y dimensions and from -1 to 1 in the z\r\n    * dimension.\r\n    * @param {number} left The x coordinate of the left plane of the box.\r\n    * @param {number} right The x coordinate of the right plane of the box.\r\n    * @param {number} bottom The y coordinate of the bottom plane of the box.\r\n    * @param {number} top The y coordinate of the right plane of the box.\r\n    * @param {number} near The negative z coordinate of the near plane of the box.\r\n    * @param {number} far The negative z coordinate of the far plane of the box.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function frustum(left, right, bottom, top, near, far) {\r\n      var dx = right - left;\r\n      var dy = top - bottom;\r\n      var dz = far - near;\r\n\r\n      dst[ 0] = 2 * near / dx;\r\n      dst[ 1] = 0;\r\n      dst[ 2] = 0;\r\n      dst[ 3] = 0;\r\n      dst[ 4] = 0;\r\n      dst[ 5] = 2 * near / dy;\r\n      dst[ 6] = 0;\r\n      dst[ 7] = 0;\r\n      dst[ 8] = (left + right) / dx;\r\n      dst[ 9] = (top + bottom) / dy;\r\n      dst[10] = -(far + near) / dz;\r\n      dst[11] = -1;\r\n      dst[12] = 0;\r\n      dst[13] = 0;\r\n      dst[14] = -2 * near * far / dz;\r\n      dst[15] = 0;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Makes a translation matrix\r\n    * @param {number} tx x translation.\r\n    * @param {number} ty y translation.\r\n    * @param {number} tz z translation.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function translation(tx, ty, tz, dst) {\r\n      dst = dst || new Float32Array(16);\r\n\r\n      dst[ 0] = 1;\r\n      dst[ 1] = 0;\r\n      dst[ 2] = 0;\r\n      dst[ 3] = 0;\r\n      dst[ 4] = 0;\r\n      dst[ 5] = 1;\r\n      dst[ 6] = 0;\r\n      dst[ 7] = 0;\r\n      dst[ 8] = 0;\r\n      dst[ 9] = 0;\r\n      dst[10] = 1;\r\n      dst[11] = 0;\r\n      dst[12] = tx;\r\n      dst[13] = ty;\r\n      dst[14] = tz;\r\n      dst[15] = 1;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Mutliply by translation matrix.\r\n    * @param {Matrix4} m matrix to multiply\r\n    * @param {number} tx x translation.\r\n    * @param {number} ty y translation.\r\n    * @param {number} tz z translation.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function translate(m, tx, ty, tz, dst) {\r\n      // This is the optimized version of\r\n      // return multiply(m, translation(tx, ty, tz), dst);\r\n      dst = dst || new Float32Array(16);\r\n\r\n      var m00 = m[0];\r\n      var m01 = m[1];\r\n      var m02 = m[2];\r\n      var m03 = m[3];\r\n      var m10 = m[1 * 4 + 0];\r\n      var m11 = m[1 * 4 + 1];\r\n      var m12 = m[1 * 4 + 2];\r\n      var m13 = m[1 * 4 + 3];\r\n      var m20 = m[2 * 4 + 0];\r\n      var m21 = m[2 * 4 + 1];\r\n      var m22 = m[2 * 4 + 2];\r\n      var m23 = m[2 * 4 + 3];\r\n      var m30 = m[3 * 4 + 0];\r\n      var m31 = m[3 * 4 + 1];\r\n      var m32 = m[3 * 4 + 2];\r\n      var m33 = m[3 * 4 + 3];\r\n\r\n      if (m !== dst) {\r\n         dst[ 0] = m00;\r\n         dst[ 1] = m01;\r\n         dst[ 2] = m02;\r\n         dst[ 3] = m03;\r\n         dst[ 4] = m10;\r\n         dst[ 5] = m11;\r\n         dst[ 6] = m12;\r\n         dst[ 7] = m13;\r\n         dst[ 8] = m20;\r\n         dst[ 9] = m21;\r\n         dst[10] = m22;\r\n         dst[11] = m23;\r\n      }\r\n\r\n      dst[12] = m00 * tx + m10 * ty + m20 * tz + m30;\r\n      dst[13] = m01 * tx + m11 * ty + m21 * tz + m31;\r\n      dst[14] = m02 * tx + m12 * ty + m22 * tz + m32;\r\n      dst[15] = m03 * tx + m13 * ty + m23 * tz + m33;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Makes an x rotation matrix\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function xRotation(angleInRadians, dst) {\r\n      dst = dst || new Float32Array(16);\r\n      var c = Math.cos(angleInRadians);\r\n      var s = Math.sin(angleInRadians);\r\n\r\n      dst[ 0] = 1;\r\n      dst[ 1] = 0;\r\n      dst[ 2] = 0;\r\n      dst[ 3] = 0;\r\n      dst[ 4] = 0;\r\n      dst[ 5] = c;\r\n      dst[ 6] = s;\r\n      dst[ 7] = 0;\r\n      dst[ 8] = 0;\r\n      dst[ 9] = -s;\r\n      dst[10] = c;\r\n      dst[11] = 0;\r\n      dst[12] = 0;\r\n      dst[13] = 0;\r\n      dst[14] = 0;\r\n      dst[15] = 1;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Multiply by an x rotation matrix\r\n    * @param {Matrix4} m matrix to multiply\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function xRotate(m, angleInRadians, dst) {\r\n      // this is the optimized version of\r\n      // return multiply(m, xRotation(angleInRadians), dst);\r\n      dst = dst || new Float32Array(16);\r\n\r\n      var m10 = m[4];\r\n      var m11 = m[5];\r\n      var m12 = m[6];\r\n      var m13 = m[7];\r\n      var m20 = m[8];\r\n      var m21 = m[9];\r\n      var m22 = m[10];\r\n      var m23 = m[11];\r\n      var c = Math.cos(angleInRadians);\r\n      var s = Math.sin(angleInRadians);\r\n\r\n      dst[4]  = c * m10 + s * m20;\r\n      dst[5]  = c * m11 + s * m21;\r\n      dst[6]  = c * m12 + s * m22;\r\n      dst[7]  = c * m13 + s * m23;\r\n      dst[8]  = c * m20 - s * m10;\r\n      dst[9]  = c * m21 - s * m11;\r\n      dst[10] = c * m22 - s * m12;\r\n      dst[11] = c * m23 - s * m13;\r\n\r\n      if (m !== dst) {\r\n         dst[ 0] = m[ 0];\r\n         dst[ 1] = m[ 1];\r\n         dst[ 2] = m[ 2];\r\n         dst[ 3] = m[ 3];\r\n         dst[12] = m[12];\r\n         dst[13] = m[13];\r\n         dst[14] = m[14];\r\n         dst[15] = m[15];\r\n      }\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Makes an y rotation matrix\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function yRotation(angleInRadians, dst) {\r\n      dst = dst || new Float32Array(16);\r\n      var c = Math.cos(angleInRadians);\r\n      var s = Math.sin(angleInRadians);\r\n\r\n      dst[ 0] = c;\r\n      dst[ 1] = 0;\r\n      dst[ 2] = -s;\r\n      dst[ 3] = 0;\r\n      dst[ 4] = 0;\r\n      dst[ 5] = 1;\r\n      dst[ 6] = 0;\r\n      dst[ 7] = 0;\r\n      dst[ 8] = s;\r\n      dst[ 9] = 0;\r\n      dst[10] = c;\r\n      dst[11] = 0;\r\n      dst[12] = 0;\r\n      dst[13] = 0;\r\n      dst[14] = 0;\r\n      dst[15] = 1;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Multiply by an y rotation matrix\r\n    * @param {Matrix4} m matrix to multiply\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function yRotate(m, angleInRadians, dst) {\r\n      // this is the optimized verison of\r\n      // return multiply(m, yRotation(angleInRadians), dst);\r\n      dst = dst || new Float32Array(16);\r\n\r\n      var m00 = m[0 * 4 + 0];\r\n      var m01 = m[0 * 4 + 1];\r\n      var m02 = m[0 * 4 + 2];\r\n      var m03 = m[0 * 4 + 3];\r\n      var m20 = m[2 * 4 + 0];\r\n      var m21 = m[2 * 4 + 1];\r\n      var m22 = m[2 * 4 + 2];\r\n      var m23 = m[2 * 4 + 3];\r\n      var c = Math.cos(angleInRadians);\r\n      var s = Math.sin(angleInRadians);\r\n\r\n      dst[ 0] = c * m00 - s * m20;\r\n      dst[ 1] = c * m01 - s * m21;\r\n      dst[ 2] = c * m02 - s * m22;\r\n      dst[ 3] = c * m03 - s * m23;\r\n      dst[ 8] = c * m20 + s * m00;\r\n      dst[ 9] = c * m21 + s * m01;\r\n      dst[10] = c * m22 + s * m02;\r\n      dst[11] = c * m23 + s * m03;\r\n\r\n      if (m !== dst) {\r\n         dst[ 4] = m[ 4];\r\n         dst[ 5] = m[ 5];\r\n         dst[ 6] = m[ 6];\r\n         dst[ 7] = m[ 7];\r\n         dst[12] = m[12];\r\n         dst[13] = m[13];\r\n         dst[14] = m[14];\r\n         dst[15] = m[15];\r\n      }\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Makes an z rotation matrix\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function zRotation(angleInRadians, dst) {\r\n      dst = dst || new Float32Array(16);\r\n      var c = Math.cos(angleInRadians);\r\n      var s = Math.sin(angleInRadians);\r\n\r\n      dst[ 0] = c;\r\n      dst[ 1] = s;\r\n      dst[ 2] = 0;\r\n      dst[ 3] = 0;\r\n      dst[ 4] = -s;\r\n      dst[ 5] = c;\r\n      dst[ 6] = 0;\r\n      dst[ 7] = 0;\r\n      dst[ 8] = 0;\r\n      dst[ 9] = 0;\r\n      dst[10] = 1;\r\n      dst[11] = 0;\r\n      dst[12] = 0;\r\n      dst[13] = 0;\r\n      dst[14] = 0;\r\n      dst[15] = 1;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Multiply by an z rotation matrix\r\n    * @param {Matrix4} m matrix to multiply\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function zRotate(m, angleInRadians, dst) {\r\n      // This is the optimized verison of\r\n      // return multiply(m, zRotation(angleInRadians), dst);\r\n      dst = dst || new Float32Array(16);\r\n\r\n      var m00 = m[0 * 4 + 0];\r\n      var m01 = m[0 * 4 + 1];\r\n      var m02 = m[0 * 4 + 2];\r\n      var m03 = m[0 * 4 + 3];\r\n      var m10 = m[1 * 4 + 0];\r\n      var m11 = m[1 * 4 + 1];\r\n      var m12 = m[1 * 4 + 2];\r\n      var m13 = m[1 * 4 + 3];\r\n      var c = Math.cos(angleInRadians);\r\n      var s = Math.sin(angleInRadians);\r\n\r\n      dst[ 0] = c * m00 + s * m10;\r\n      dst[ 1] = c * m01 + s * m11;\r\n      dst[ 2] = c * m02 + s * m12;\r\n      dst[ 3] = c * m03 + s * m13;\r\n      dst[ 4] = c * m10 - s * m00;\r\n      dst[ 5] = c * m11 - s * m01;\r\n      dst[ 6] = c * m12 - s * m02;\r\n      dst[ 7] = c * m13 - s * m03;\r\n\r\n      if (m !== dst) {\r\n         dst[ 8] = m[ 8];\r\n         dst[ 9] = m[ 9];\r\n         dst[10] = m[10];\r\n         dst[11] = m[11];\r\n         dst[12] = m[12];\r\n         dst[13] = m[13];\r\n         dst[14] = m[14];\r\n         dst[15] = m[15];\r\n      }\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Makes an rotation matrix around an arbitrary axis\r\n    * @param {Vector3} axis axis to rotate around\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function axisRotation(axis, angleInRadians, dst) {\r\n      dst = dst || new Float32Array(16);\r\n\r\n      var x = axis[0];\r\n      var y = axis[1];\r\n      var z = axis[2];\r\n      var n = Math.sqrt(x * x + y * y + z * z);\r\n      x /= n;\r\n      y /= n;\r\n      z /= n;\r\n      var xx = x * x;\r\n      var yy = y * y;\r\n      var zz = z * z;\r\n      var c = Math.cos(angleInRadians);\r\n      var s = Math.sin(angleInRadians);\r\n      var oneMinusCosine = 1 - c;\r\n\r\n      dst[ 0] = xx + (1 - xx) * c;\r\n      dst[ 1] = x * y * oneMinusCosine + z * s;\r\n      dst[ 2] = x * z * oneMinusCosine - y * s;\r\n      dst[ 3] = 0;\r\n      dst[ 4] = x * y * oneMinusCosine - z * s;\r\n      dst[ 5] = yy + (1 - yy) * c;\r\n      dst[ 6] = y * z * oneMinusCosine + x * s;\r\n      dst[ 7] = 0;\r\n      dst[ 8] = x * z * oneMinusCosine + y * s;\r\n      dst[ 9] = y * z * oneMinusCosine - x * s;\r\n      dst[10] = zz + (1 - zz) * c;\r\n      dst[11] = 0;\r\n      dst[12] = 0;\r\n      dst[13] = 0;\r\n      dst[14] = 0;\r\n      dst[15] = 1;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Multiply by an axis rotation matrix\r\n    * @param {Matrix4} m matrix to multiply\r\n    * @param {Vector3} axis axis to rotate around\r\n    * @param {number} angleInRadians amount to rotate\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function axisRotate(m, axis, angleInRadians, dst) {\r\n      // This is the optimized verison of\r\n      // return multiply(m, axisRotation(axis, angleInRadians), dst);\r\n      dst = dst || new Float32Array(16);\r\n\r\n      var x = axis[0];\r\n      var y = axis[1];\r\n      var z = axis[2];\r\n      var n = Math.sqrt(x * x + y * y + z * z);\r\n      x /= n;\r\n      y /= n;\r\n      z /= n;\r\n      var xx = x * x;\r\n      var yy = y * y;\r\n      var zz = z * z;\r\n      var c = Math.cos(angleInRadians);\r\n      var s = Math.sin(angleInRadians);\r\n      var oneMinusCosine = 1 - c;\r\n\r\n      var r00 = xx + (1 - xx) * c;\r\n      var r01 = x * y * oneMinusCosine + z * s;\r\n      var r02 = x * z * oneMinusCosine - y * s;\r\n      var r10 = x * y * oneMinusCosine - z * s;\r\n      var r11 = yy + (1 - yy) * c;\r\n      var r12 = y * z * oneMinusCosine + x * s;\r\n      var r20 = x * z * oneMinusCosine + y * s;\r\n      var r21 = y * z * oneMinusCosine - x * s;\r\n      var r22 = zz + (1 - zz) * c;\r\n\r\n      var m00 = m[0];\r\n      var m01 = m[1];\r\n      var m02 = m[2];\r\n      var m03 = m[3];\r\n      var m10 = m[4];\r\n      var m11 = m[5];\r\n      var m12 = m[6];\r\n      var m13 = m[7];\r\n      var m20 = m[8];\r\n      var m21 = m[9];\r\n      var m22 = m[10];\r\n      var m23 = m[11];\r\n\r\n      dst[ 0] = r00 * m00 + r01 * m10 + r02 * m20;\r\n      dst[ 1] = r00 * m01 + r01 * m11 + r02 * m21;\r\n      dst[ 2] = r00 * m02 + r01 * m12 + r02 * m22;\r\n      dst[ 3] = r00 * m03 + r01 * m13 + r02 * m23;\r\n      dst[ 4] = r10 * m00 + r11 * m10 + r12 * m20;\r\n      dst[ 5] = r10 * m01 + r11 * m11 + r12 * m21;\r\n      dst[ 6] = r10 * m02 + r11 * m12 + r12 * m22;\r\n      dst[ 7] = r10 * m03 + r11 * m13 + r12 * m23;\r\n      dst[ 8] = r20 * m00 + r21 * m10 + r22 * m20;\r\n      dst[ 9] = r20 * m01 + r21 * m11 + r22 * m21;\r\n      dst[10] = r20 * m02 + r21 * m12 + r22 * m22;\r\n      dst[11] = r20 * m03 + r21 * m13 + r22 * m23;\r\n\r\n      if (m !== dst) {\r\n         dst[12] = m[12];\r\n         dst[13] = m[13];\r\n         dst[14] = m[14];\r\n         dst[15] = m[15];\r\n      }\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Makes a scale matrix\r\n    * @param {number} sx x scale.\r\n    * @param {number} sy y scale.\r\n    * @param {number} sz z scale.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function scaling(sx, sy, sz, dst) {\r\n      dst = dst || new Float32Array(16);\r\n\r\n      dst[ 0] = sx;\r\n      dst[ 1] = 0;\r\n      dst[ 2] = 0;\r\n      dst[ 3] = 0;\r\n      dst[ 4] = 0;\r\n      dst[ 5] = sy;\r\n      dst[ 6] = 0;\r\n      dst[ 7] = 0;\r\n      dst[ 8] = 0;\r\n      dst[ 9] = 0;\r\n      dst[10] = sz;\r\n      dst[11] = 0;\r\n      dst[12] = 0;\r\n      dst[13] = 0;\r\n      dst[14] = 0;\r\n      dst[15] = 1;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Multiply by a scaling matrix\r\n    * @param {Matrix4} m matrix to multiply\r\n    * @param {number} sx x scale.\r\n    * @param {number} sy y scale.\r\n    * @param {number} sz z scale.\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function scale(m, sx, sy, sz, dst) {\r\n      // This is the optimized verison of\r\n      // return multiply(m, scaling(sx, sy, sz), dst);\r\n      dst = dst || new Float32Array(16);\r\n\r\n      dst[ 0] = sx * m[0 * 4 + 0];\r\n      dst[ 1] = sx * m[0 * 4 + 1];\r\n      dst[ 2] = sx * m[0 * 4 + 2];\r\n      dst[ 3] = sx * m[0 * 4 + 3];\r\n      dst[ 4] = sy * m[1 * 4 + 0];\r\n      dst[ 5] = sy * m[1 * 4 + 1];\r\n      dst[ 6] = sy * m[1 * 4 + 2];\r\n      dst[ 7] = sy * m[1 * 4 + 3];\r\n      dst[ 8] = sz * m[2 * 4 + 0];\r\n      dst[ 9] = sz * m[2 * 4 + 1];\r\n      dst[10] = sz * m[2 * 4 + 2];\r\n      dst[11] = sz * m[2 * 4 + 3];\r\n\r\n      if (m !== dst) {\r\n         dst[12] = m[12];\r\n         dst[13] = m[13];\r\n         dst[14] = m[14];\r\n         dst[15] = m[15];\r\n      }\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Computes the inverse of a matrix.\r\n    * @param {Matrix4} m matrix to compute inverse of\r\n    * @param {Matrix4} [dst] optional matrix to store result\r\n    * @return {Matrix4} dst or a new matrix if none provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function inverse(m, dst) {\r\n      dst = dst || new Float32Array(16);\r\n      var m00 = m[0 * 4 + 0];\r\n      var m01 = m[0 * 4 + 1];\r\n      var m02 = m[0 * 4 + 2];\r\n      var m03 = m[0 * 4 + 3];\r\n      var m10 = m[1 * 4 + 0];\r\n      var m11 = m[1 * 4 + 1];\r\n      var m12 = m[1 * 4 + 2];\r\n      var m13 = m[1 * 4 + 3];\r\n      var m20 = m[2 * 4 + 0];\r\n      var m21 = m[2 * 4 + 1];\r\n      var m22 = m[2 * 4 + 2];\r\n      var m23 = m[2 * 4 + 3];\r\n      var m30 = m[3 * 4 + 0];\r\n      var m31 = m[3 * 4 + 1];\r\n      var m32 = m[3 * 4 + 2];\r\n      var m33 = m[3 * 4 + 3];\r\n      var tmp_0  = m22 * m33;\r\n      var tmp_1  = m32 * m23;\r\n      var tmp_2  = m12 * m33;\r\n      var tmp_3  = m32 * m13;\r\n      var tmp_4  = m12 * m23;\r\n      var tmp_5  = m22 * m13;\r\n      var tmp_6  = m02 * m33;\r\n      var tmp_7  = m32 * m03;\r\n      var tmp_8  = m02 * m23;\r\n      var tmp_9  = m22 * m03;\r\n      var tmp_10 = m02 * m13;\r\n      var tmp_11 = m12 * m03;\r\n      var tmp_12 = m20 * m31;\r\n      var tmp_13 = m30 * m21;\r\n      var tmp_14 = m10 * m31;\r\n      var tmp_15 = m30 * m11;\r\n      var tmp_16 = m10 * m21;\r\n      var tmp_17 = m20 * m11;\r\n      var tmp_18 = m00 * m31;\r\n      var tmp_19 = m30 * m01;\r\n      var tmp_20 = m00 * m21;\r\n      var tmp_21 = m20 * m01;\r\n      var tmp_22 = m00 * m11;\r\n      var tmp_23 = m10 * m01;\r\n\r\n      var t0 = (tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31) -\r\n         (tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31);\r\n      var t1 = (tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31) -\r\n         (tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31);\r\n      var t2 = (tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31) -\r\n         (tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31);\r\n      var t3 = (tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21) -\r\n         (tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21);\r\n\r\n      var d = 1.0 / (m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3);\r\n\r\n      dst[0] = d * t0;\r\n      dst[1] = d * t1;\r\n      dst[2] = d * t2;\r\n      dst[3] = d * t3;\r\n      dst[4] = d * ((tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30) -\r\n         (tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30));\r\n      dst[5] = d * ((tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30) -\r\n         (tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30));\r\n      dst[6] = d * ((tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30) -\r\n         (tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30));\r\n      dst[7] = d * ((tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20) -\r\n         (tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20));\r\n      dst[8] = d * ((tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33) -\r\n         (tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33));\r\n      dst[9] = d * ((tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33) -\r\n         (tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33));\r\n      dst[10] = d * ((tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33) -\r\n         (tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33));\r\n      dst[11] = d * ((tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23) -\r\n         (tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23));\r\n      dst[12] = d * ((tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12) -\r\n         (tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22));\r\n      dst[13] = d * ((tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22) -\r\n         (tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02));\r\n      dst[14] = d * ((tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02) -\r\n         (tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12));\r\n      dst[15] = d * ((tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12) -\r\n         (tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02));\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Takes a  matrix and a vector with 4 entries, transforms that vector by\r\n    * the matrix, and returns the result as a vector with 4 entries.\r\n    * @param {Matrix4} m The matrix.\r\n    * @param {Vector4} v The point in homogenous coordinates.\r\n    * @param {Vector4} dst optional vector4 to store result\r\n    * @return {Vector4} dst or new Vector4 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function transformVector(m, v, dst) {\r\n      dst = dst || new Float32Array(4);\r\n      for (var i = 0; i < 4; ++i) {\r\n         dst[i] = 0.0;\r\n         for (var j = 0; j < 4; ++j) {\r\n            dst[i] += v[j] * m[j * 4 + i];\r\n         }\r\n      }\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Takes a 4-by-4 matrix and a vector with 3 entries,\r\n    * interprets the vector as a point, transforms that point by the matrix, and\r\n    * returns the result as a vector with 3 entries.\r\n    * @param {Matrix4} m The matrix.\r\n    * @param {Vector3} v The point.\r\n    * @param {Vector4} dst optional vector4 to store result\r\n    * @return {Vector4} dst or new Vector4 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function transformPoint(m, v, dst) {\r\n      dst = dst || new Float32Array(3);\r\n      var v0 = v[0];\r\n      var v1 = v[1];\r\n      var v2 = v[2];\r\n      var d = v0 * m[0 * 4 + 3] + v1 * m[1 * 4 + 3] + v2 * m[2 * 4 + 3] + m[3 * 4 + 3];\r\n\r\n      dst[0] = (v0 * m[0 * 4 + 0] + v1 * m[1 * 4 + 0] + v2 * m[2 * 4 + 0] + m[3 * 4 + 0]) / d;\r\n      dst[1] = (v0 * m[0 * 4 + 1] + v1 * m[1 * 4 + 1] + v2 * m[2 * 4 + 1] + m[3 * 4 + 1]) / d;\r\n      dst[2] = (v0 * m[0 * 4 + 2] + v1 * m[1 * 4 + 2] + v2 * m[2 * 4 + 2] + m[3 * 4 + 2]) / d;\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Takes a 4-by-4 matrix and a vector with 3 entries, interprets the vector as a\r\n    * direction, transforms that direction by the matrix, and returns the result;\r\n    * assumes the transformation of 3-dimensional space represented by the matrix\r\n    * is parallel-preserving, i.e. any combination of rotation, scaling and\r\n    * translation, but not a perspective distortion. Returns a vector with 3\r\n    * entries.\r\n    * @param {Matrix4} m The matrix.\r\n    * @param {Vector3} v The direction.\r\n    * @param {Vector4} dst optional vector4 to store result\r\n    * @return {Vector4} dst or new Vector4 if not provided\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function transformDirection(m, v, dst) {\r\n      dst = dst || new Float32Array(3);\r\n\r\n      var v0 = v[0];\r\n      var v1 = v[1];\r\n      var v2 = v[2];\r\n\r\n      dst[0] = v0 * m[0 * 4 + 0] + v1 * m[1 * 4 + 0] + v2 * m[2 * 4 + 0];\r\n      dst[1] = v0 * m[0 * 4 + 1] + v1 * m[1 * 4 + 1] + v2 * m[2 * 4 + 1];\r\n      dst[2] = v0 * m[0 * 4 + 2] + v1 * m[1 * 4 + 2] + v2 * m[2 * 4 + 2];\r\n\r\n      return dst;\r\n   }\r\n\r\n   /**\r\n    * Takes a 4-by-4 matrix m and a vector v with 3 entries, interprets the vector\r\n    * as a normal to a surface, and computes a vector which is normal upon\r\n    * transforming that surface by the matrix. The effect of this function is the\r\n    * same as transforming v (as a direction) by the inverse-transpose of m.  This\r\n    * function assumes the transformation of 3-dimensional space represented by the\r\n    * matrix is parallel-preserving, i.e. any combination of rotation, scaling and\r\n    * translation, but not a perspective distortion.  Returns a vector with 3\r\n    * entries.\r\n    * @param {Matrix4} m The matrix.\r\n    * @param {Vector3} v The normal.\r\n    * @param {Vector3} [dst] The direction.\r\n    * @return {Vector3} The transformed direction.\r\n    * @memberOf module:webgl-3d-math\r\n    */\r\n   function transformNormal(m, v, dst) {\r\n      dst = dst || new Float32Array(3);\r\n      var mi = inverse(m);\r\n      var v0 = v[0];\r\n      var v1 = v[1];\r\n      var v2 = v[2];\r\n\r\n      dst[0] = v0 * mi[0 * 4 + 0] + v1 * mi[0 * 4 + 1] + v2 * mi[0 * 4 + 2];\r\n      dst[1] = v0 * mi[1 * 4 + 0] + v1 * mi[1 * 4 + 1] + v2 * mi[1 * 4 + 2];\r\n      dst[2] = v0 * mi[2 * 4 + 0] + v1 * mi[2 * 4 + 1] + v2 * mi[2 * 4 + 2];\r\n\r\n      return dst;\r\n   }\r\n\r\n   function copy(src, dst) {\r\n      dst = dst || new Float32Array(16);\r\n\r\n      dst[ 0] = src[ 0];\r\n      dst[ 1] = src[ 1];\r\n      dst[ 2] = src[ 2];\r\n      dst[ 3] = src[ 3];\r\n      dst[ 4] = src[ 4];\r\n      dst[ 5] = src[ 5];\r\n      dst[ 6] = src[ 6];\r\n      dst[ 7] = src[ 7];\r\n      dst[ 8] = src[ 8];\r\n      dst[ 9] = src[ 9];\r\n      dst[10] = src[10];\r\n      dst[11] = src[11];\r\n      dst[12] = src[12];\r\n      dst[13] = src[13];\r\n      dst[14] = src[14];\r\n      dst[15] = src[15];\r\n\r\n      return dst;\r\n   }\r\n\r\n   return {\r\n      copy: copy,\r\n      lookAt: lookAt,\r\n      addVectors: addVectors,\r\n      subtractVectors: subtractVectors,\r\n      distance: distance,\r\n      distanceSq: distanceSq,\r\n      normalize: normalize,\r\n      cross: cross,\r\n      dot: dot,\r\n      identity: identity,\r\n      transpose: transpose,\r\n      orthographic: orthographic,\r\n      frustum: frustum,\r\n      perspective: perspective,\r\n      translation: translation,\r\n      translate: translate,\r\n      xRotation: xRotation,\r\n      yRotation: yRotation,\r\n      zRotation: zRotation,\r\n      xRotate: xRotate,\r\n      yRotate: yRotate,\r\n      zRotate: zRotate,\r\n      axisRotation: axisRotation,\r\n      axisRotate: axisRotate,\r\n      scaling: scaling,\r\n      scale: scale,\r\n      multiply: multiply,\r\n      inverse: inverse,\r\n      transformVector: transformVector,\r\n      transformPoint: transformPoint,\r\n      transformDirection: transformDirection,\r\n      transformNormal: transformNormal,\r\n   };\r\n\r\n}());\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/m4.js","export const\r\n//To draw a series of unconnected line segments (individual lines).\r\nLINES = 'LINES'\r\n//To draw a series of points.\r\n,POINTS = 'POINTS'\r\n//To draw a series of connected line segments.\r\n,LINE_STRIP = 'LINE_STRIP'\r\n//To draw a series of connected line segments. It also joins the first and last vertices to form a loop.\r\n,LINE_LOOP = 'LINE_LOOP'\r\n//To draw a series of separate triangles.\r\n,TRIANGLES = 'TRIANGLES'\r\n//To draw a series of connected triangles in strip fashion.\r\n,TRIANGLE_STRIP='TRIANGLE_STRIP'\r\n//To draw a series of connected triangles sharing the first vertex in a fan-like fashion.\r\n,TRIANGLE_FAN='TRIANGLE_FAN'\r\n,DATATYPE = 0\r\n,TYPE = 1\r\n,LOCATION = 2\r\n,Arrays = 'drawArrays'\r\n,SIZE = 0\r\n,VertexAttribPointers_DATATYPE = 1\r\n,NORMALIZE= 2\r\n,STRIDE= 3\r\n,OFFSET= 4\r\n,ATTRIB_BUFFER =6\r\n,ATTRIB_VERTEXES=5\r\n,PI2=2*Math.PI\r\n/*,MATRIX\r\n,LIGHT\r\n,SPRITE\r\n,TEXTURE*/\r\n,ATTRIB = 0\r\n,UNIFORM= 1\r\n,FLOAT = 'FLOAT'\r\n,FPS = 16\r\n;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/constants.js","import m4 from './m4.js' \r\nimport Param from './param.js'\r\n\r\nexport const Sprite = function(){\r\n    function _(gl,attribs,uniforms,clauses\r\n\t     //  ,prefs\r\n\t      ){\r\n\tthis.attribs = attribs;\r\n\t//this.prefs = {};\r\n\tvertexData.call(this,gl,attribs);\r\n\tthis.uniforms = uniforms==undefined?{}:uniforms;\r\n\tthis.clauses = defaultClauses.concat(clauses);\r\n    }\r\n    _.prototype = Object.create(Param.prototype);\r\n    _.prototype.constructor = _;\r\n    _.prototype.vertexData = vertexData;\r\n    function vertexData(gl,attribs){\r\n\tconst processed = {};\r\n\tfor(var attr in attribs){\r\n\t    const a= attribs[attr]\r\n\t    const vertexes = a[C.ATTRIB_VERTEXES];\r\n\t    if(vertexes==undefined)\r\n\t\tcontinue;\r\n\t       // Multiple attrib may use one vertexes buffer\r\n\t    var buffer = processed[vertexes];\r\n\t    if(buffer==undefined){\r\n\t\tbuffer= gl.createBuffer();\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n\t\tgl.bufferData( gl.ARRAY_BUFFER, new Float32Array(vertexes), gl.STATIC_DRAW);\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER,null);\r\n\t\tprocessed[vertexes] = buffer;\r\n\t    }\r\n\t    a[C.ATTRIB_BUFFER]= buffer;\r\n\t}\r\n    }\r\n    _.prototype.getWorldMatrix = Ghost.prototype.getWorldMatrix;\r\n    function getUniforms(){\r\n\tconst m =this._scene.getViewProjectionMatrix();\r\n\tif(m!=undefined){\r\n\t    this.uniforms['u_worldViewProjection'] = m4.multiply(m,this.getWorldMatrix());\r\n\t}\r\n\treturn this.uniforms;\r\n    }\r\n    _.prototype.getUniforms = getUniforms;\r\n    const defaultClauses = [];\r\n    const defaultPrefs = {\r\n\tdrawMethod:'drawArrays'\r\n\t,drawMode:C.TRIANGLES\r\n\t,stride:9\r\n    };\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/sprite.js","export const GameTimer = function(){\r\n    function _(fps){//fps:frame per second\r\n\tthis._before = 0;\r\n\tthis._elapse = 0;\r\n\t//second per frame\r\n\tif(fps>0){\r\n\t    this._spf = 1/fps;\r\n\t}else{\r\n\t    this._spf = 1/30;\r\n\t}\r\n\tthis._stop = 0;\r\n    }\r\n    function loop(upt){\r\n\tconst scope = this;\r\n\t(function _(now){\r\n\t    scope.delta(now);\r\n\t    if(scope.frame()){\r\n\t\tupt();\r\n\t    }\r\n\t    if(scope._stop){\r\n\t\treturn;\r\n\t    }\r\n\t    requestAnimationFrame(_);\r\n\t}());\r\n    }\r\n    function enable(){\r\n\tthis._stop = 0;\r\n    }\r\n    _.prototype.enable = enable;\r\n    function stop(){\r\n\tthis._stop = 1;\r\n\tthis._before = 0;\r\n\tthis._elapse = 0;\r\n    }\r\n    _.prototype.loop = loop;\r\n    _.prototype.stop= stop;\r\n    function delta(now){\r\n\tvar delta = (now ==undefined ||this._before ==0)?0:now - this._before;\r\n\tdelta = delta ==0?0:delta*=0.001;\r\n\tthis._elapse+= delta;\r\n\tthis._before = now == undefined?0:now;\r\n\treturn delta;\r\n    }\r\n    function frame(){\r\n\tif(this._elapse <this._spf){\r\n\t    return false;\r\n\t}else{\r\n\t    this._elapse = this._elapse - this._spf;\r\n\t    return true;\r\n\t}\r\n    }\r\n    _.prototype.delta = delta; \r\n    _.prototype.frame= frame; \r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/timer.js","export const Vector = function(){\r\n    function _(x,y,z){\r\n        this.x = x==undefined?0:x;\r\n        this.y = y==undefined?0:y;\r\n        this.z = z==undefined?0:z;\r\n    }\r\n    //to: destination\r\n    function add(v,to){\r\n        const r= to==undefined?new _():to;\r\n        r.x = this.x+v.x;\r\n        r.y = this.y+v.y;\r\n        r.z = this.z+v.z;\r\n        return r;\r\n    }\r\n    function substract(v,to){\r\n        const r= to==undefined?new _():to;\r\n        r.x = this.x-v.x;\r\n        r.y = this.y-v.y;\r\n        r.z = this.z-v.z;\r\n        return r;\r\n    }\r\n    function length(){\r\n        return Math.sqrt(this.x*this.x +this.y*this.y+this.z*this.z);\r\n    }\r\n    //square\r\n    function    lengthSqr(){\r\n        return (this.x*this.x +this.y*this.y+ this.z*this.z);\r\n    }\r\n    //scale functions\r\n    function    multiply(n){\r\n        this.x*=n;\r\n        this.y*=n;\r\n        this.z*=n;\r\n        return this;\r\n    }\r\n    _.prototype.multiply= multiply;\r\n    function    divide(n){\r\n        this.x/=n;\r\n        this.y/=n;\r\n        this.z/=n;\r\n        return this;\r\n    }\r\n    //magnitude,unit,normal\r\n    function    normalize(){\r\n        return this.divide(this.length());\r\n    }\r\n    _.prototype.zero = function(){\r\n        this.x = this.y = this.z = 0;\r\n    };\r\n    _.prototype.normalize = normalize;\r\n    _.prototype.divide= divide;\r\n    _.prototype.length= length;\r\n    _.prototype.lengthSqr= lengthSqr;\r\n    _.prototype.add= add;\r\n    _.prototype.substract= substract;\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/vector.js","require('./css/proto-game.css');\r\nimport {createProgram as glpf} from './lib/GlProgramFactory.js'\r\nimport {fullscreen} from './lib/fullscreen.js'\r\nimport {createLine} from './line.js'\r\nimport {createPoint} from './point.js'\r\nimport {createPlane} from './plane.js'\r\nimport {createScene} from './createScene.js'\r\nimport {Ghost} from './lib/ghost.js'\r\nimport {createCubePlayer} from './cube-player.js'\r\nimport {control} from './lib/control.js'\r\nimport {m4} from './lib/m4.js'\r\n\r\nwindow.addEventListener('load',onload);\r\nfunction onload(){\r\n    const canvas = document.getElementById(\"cv\");\r\n    gl = canvas.getContext(\"webgl\");\r\n    if(!gl){\r\n\talert('WebGL Not Supportted');\r\n\treturn;\r\n    }\r\n    fullscreen(gl);\r\n    const tm = new GameTimer(C.FPS);\r\n    var features = glpf.VERTEX_COLOR|glpf.WORLD_VIEW_PROJECT;\r\n    const prog = glpf(gl,features);\r\n\r\n    /*features = glpf.VERTEX_COLOR|glpf.WORLD_PROJECTION;\r\n    const playerProg = glpf(gl,features);\r\n    const player= createCubePlayer(gl);\r\n    const playerPlane= createPlayerPlane(gl);\r\n    control.moveByKeyboard(player);*/\r\n\r\n    const li = createLine(gl);\r\n    const po= createPoint(gl);\r\n    const pl = createPlane(gl);\r\n    const sc = createScene(gl); \r\n\r\n    const ghost= new Ghost(); \r\n    const ghostMatrix = ghost.getWorldMatrix();\r\n    m4.translate(ghostMatrix,0,0,0,ghostMatrix);\r\n    control.moveByKeyboard(ghost);\r\n    sc.focus(ghost);\r\n\r\n    const cubeplayer = createCubePlayer(gl,ghost);\r\n\r\n    control.lookAroundByKeyboard(sc);\r\n    const sprites = [pl,li,po\r\n\t\t     ,cubeplayer\r\n\t\t    ];\r\n    for(var i=0,l=sprites.length;i<l;i++){\r\n\tsc.addSprite(sprites[i]);\r\n    }\r\n\r\n    /*const wm = player.getSelfWorldMatrix();\r\n    //m4.translate(wm,0,0,1,wm);\r\n    const speedx = 8*Math.PI/180;\r\n    const oneRadian = Math.PI/180;\r\n    const speedy = speedx + 4*oneRadian;\r\n    const speedz = speedy + 2*oneRadian;*/\r\n\r\n    tm.loop(function(){\r\n\t/*m4.yRotate(wm,speedy,wm);\r\n\tm4.xRotate(wm,speedx,wm);\r\n\tm4.zRotate(wm,speedz,wm);*/\r\n\tprog.display(gl,sc);\r\n\t//playerProg.summon(gl,player);\r\n\t//playerProg.summon(gl,playerPlane);\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/proto-game.js","import * as C from './constants.js'\r\nexport const createProgram = function(){\r\n    function _(gl,bitmask){\r\n\tconst param = Object.assign({},defaultParam);\r\n\tconst fstxt = filterLine('f',defaultFragmentShader,param,bitmask);\r\n\t//console.log(fstxt);\r\n\tconst vstxt = filterLine('v',defaultVertexShader,param,bitmask);\r\n\t//console.log(vstxt);\r\n\treturn new GlProgram(gl,vstxt,fstxt,param);\r\n    }\r\n\r\n    function filterLine(type,defaults,param,bitmask){\r\n\tconst lines= defaults.split('\\n');\r\n\tfor(var f in Features){\r\n\t    var deletekey;\r\n\t    if(bitmask & f){//enable this feacture\r\n\t\tdeletekey= type+'-';\r\n\t\tconst p = Features[f]['p-'];\r\n\t\tfor(var j=0,l=p==undefined?0:p.length;j<l;j++){\r\n\t\t    delete param[p[j]];\r\n\t\t}\r\n\t    }else{//disable this feacture\r\n\t\tdeletekey= type+'+';\r\n\t\tconst p = Features[f]['p+'];\r\n\t\tfor(var j=0,l=p==undefined?0:p.length;j<l;j++){\r\n\t\t    delete param[p[j]];\r\n\t\t}\r\n\t    }\r\n\t    const idx = Features[f][deletekey];\r\n\t    for(var i=0,l=idx==undefined?0:idx.length;i<l;i++){\r\n\t\tdelete lines[idx[i]];\r\n\t    }\r\n\t}\r\n\treturn lines.join('\\n');\r\n    }\r\n\r\n    const TEXTURE = 0b1, COLOR = 0b10, WORLD_VIEW_PROJECT = 0b100,\r\n\t  VERTEX_COLOR = 0b1000,WORLD_PROJECTION = 0b10000;\r\n    _.TEXTURE = TEXTURE, _.COLOR = COLOR,_.WORLD_PROJECTION = WORLD_PROJECTION\r\n    ,_.WORLD_VIEW_PROJECT = WORLD_VIEW_PROJECT\r\n    ,_.VERTEX_COLOR = VERTEX_COLOR;\r\n    const Features = {\r\n\t0b10000:{\r\n\t    'v+':[6,13],'v-':[8,10],'p+':['u_worldProjection']\r\n\t},\r\n\t0b1:{\r\n\t    'v+':[1,2,9], 'f+':[1,2,6], 'f-':[7,8,9], 'p+':['a_texCoord','u_image']\r\n\t},\r\n\t0b10:{\r\n\t    'f+':[3,8], 'f-':[6,7,9], 'p+':['u_color']\r\n\t},\r\n\t0b100:{\r\n\t    'v+':[3,10], 'v-':[8,13], 'p+':['u_worldViewProjection']\r\n\t},\r\n\t0b1000:{\r\n\t    'v+':[4,5,11], 'f+':[4,9], 'f-':[2,3,6,7,8], 'p+':['a_color']\r\n\t},\r\n    };\r\n    const defaultParam = {\r\n\t\"a_position\":  [\"vec2\",C.ATTRIB]\r\n\t,\"a_texCoord\":[\"vec2\",C.ATTRIB]\r\n\t,\"a_color\":[\"vec2\",C.ATTRIB]\r\n\t,\"u_image\":[\"sampler2D\",C.UNIFORM]\r\n\t,\"u_color\":[\"vec4\",C.UNIFORM]\r\n\t,\"u_worldViewProjection\":[\"mat4\",C.UNIFORM]\r\n\t,\"u_worldProjection\":[\"mat4\",C.UNIFORM]\r\n    };\r\n    const defaultVertexShader = '\\\r\nattribute vec4 a_position;\\n\\\r\nattribute vec2 a_texCoord;\\n\\\r\nvarying vec2 v_texCoord;\\n\\\r\nuniform mat4 u_worldViewProjection;\\n\\\r\nattribute vec3 a_color;\\n\\\r\nvarying vec3 v_color;\\n\\\r\nuniform mat4 u_worldProjection;\\n\\\r\nvoid main(){\\n\\\r\n    gl_Position = a_position;\\n\\\r\n    v_texCoord = a_texCoord;\\n\\\r\n    gl_Position = u_worldViewProjection * a_position;\\n\\\r\n    v_color = a_color;\\n\\\r\n    gl_PointSize = 8.0; \\n\\\r\n    gl_Position = u_worldProjection * a_position;\\n\\\r\n}';\r\n    const defaultFragmentShader = '\\\r\nprecision mediump float;\\n\\\r\nuniform sampler2D u_image;\\n\\\r\nvarying vec2 v_texCoord;\\n\\\r\nuniform vec4 u_color;\\n\\\r\nvarying vec3 v_color;\\n\\\r\nvoid main() {\\n\\\r\n    gl_FragColor =texture2D(u_image,v_texCoord); \\n\\\r\n    gl_FragColor = vec4(1.0,1.0,1.0,1.0);\\n\\\r\n    gl_FragColor = u_color;\\n\\\r\n    gl_FragColor = vec4(v_color,1.0);\\n\\\r\n}';\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/GlProgramFactory.js","export const fullscreen = function(){\r\n    function _(gl){\r\n\tconst canvas = gl.canvas;\r\n\tconst elems = [\r\n\t    {'elem':document.body, style:'body'},\r\n\t    {elem:canvas, style:'canvas'}\r\n\t];\r\n\tfor(var i=0,l=elems.length;i<l;i++){\r\n\t    const e = elems[i].elem;\r\n\t    const s = styles[elems[i].style];\r\n\t    for(var p in s){\r\n\t\te.style[p] = s[p];\r\n\t    }\r\n\t}\r\n\t//make the drawingbuffer match whatever size the browser has stretched the canvas.\r\n\tconst cw = canvas.clientWidth;\r\n\tconst ch = canvas.clientHeight;\r\n\tcv.width = cw;\r\n\tcv.height = ch;\r\n\twindow.addEventListener('resize', onWindowResize.bind(null,canvas), true);\r\n    }\r\n    function onWindowResize(canvas){\r\n\tconst cw = canvas.clientWidth;\r\n\tconst ch = canvas.clientHeight;\r\n\tcanvas.width = cw;\r\n\tcanvas.height = ch;\r\n    }\r\n    const styles={\r\n\tbody:{\r\n\t    'box-sizing':'border-box'\r\n\t    //,'background':'darkgreen'\r\n\t    ,'padding':'0'\r\n\t    ,'margin':'0'\r\n\t    ,'border':'0'\r\n\t}\r\n\t,canvas:{\r\n\t    'width':'98vw'\r\n\t    ,'height':'98vh'\r\n\t    //,'background':'darkgreen'\r\n\t    ,'border':'1px solid black'\r\n\t    ,'padding':'0'\r\n\t    ,'border':'0'\r\n\t    ,'position':'absolute'\r\n\t    ,'top':'50%'\r\n\t    ,'left':'50%'\r\n\t    ,'margin-top':'-49vh'\r\n\t    ,'margin-left':'-49vw'\r\n\t}\r\n    };\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/fullscreen.js","import Sprite from './lib/sprite.js'\r\nimport C from './lib/constants.js'\r\nexport const createLine= function(){\r\n    function _(gl){\r\n\tconst clauses = {\r\n\t    'drawArrays':[gl.LINES,0,defaultVertexes.length/6]\r\n\t};\r\n\tconst s= new Sprite(gl,defaultAttribs,null,clauses);\r\n\treturn s;\r\n    }\r\n    const defaultVertexes = [\r\n\t//position,  color\r\n\t-128,0,0,       0,0,0,\r\n\t128,0,0,       0,0,0,//x\r\n\t0,-128,0,        0,0,0,\r\n\t0,128,0,       0,0,0,//z\r\n\t0,0,-128,        0,0,0,\r\n\t0,0,128,       0,0,0,//y\r\n    ];\r\n    const defaultAttribs= {\r\n\t'a_position':[3,\"FLOAT\",false,6*Float32Array.BYTES_PER_ELEMENT,0,defaultVertexes],\r\n\t'a_color':[3,\"FLOAT\",false,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT,defaultVertexes],\r\n    };\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/line.js","export const Param = function(){\r\n    function _(){}\r\n    _.prototype.getUniforms = function(){\r\n\treturn this.uniforms;\r\n    }\r\n    function getClauses(){\r\n\treturn this.clauses;\r\n    }\r\n    _.prototype.getClauses  = getClauses;\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/param.js","import Sprite from './lib/sprite.js'\r\nimport C from './lib/constants.js'\r\nexport const createPoint= function(){\r\n    function _(gl){\r\n\tconst clauses = {\r\n\t    'drawArrays':[gl.POINTS,0,defaultVertexes.length/6]\r\n\t};\r\n\tconst s= new Sprite(gl,defaultAttribs,null,clauses);\r\n\treturn s;\r\n    }\r\n    const defaultVertexes = [\r\n\t//position,  color\r\n\t0,0,0,       1,0,0,\r\n    ];\r\n    const defaultAttribs= {\r\n\t'a_position':[3,\"FLOAT\",false,6*Float32Array.BYTES_PER_ELEMENT,0,defaultVertexes],\r\n\t'a_color':[3,\"FLOAT\",false,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT,defaultVertexes],\r\n    };\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/point.js","import Sprite from './lib/sprite.js'\r\nexport const createPlane= function(){\r\n    function _(gl){\r\n\tconst clauses = {\r\n\t    'drawArrays':[gl.TRIANGLES,0,defaultVertexes.length/6]\r\n\t};\r\n\tconst s= new Sprite(gl,defaultAttribs,null,clauses);\r\n\treturn s;\r\n    }\r\n    const defaultVertexes = [\r\n\t//position                      color\r\n\t-16,0,-16,                    0.2,0.1,0.4,\r\n\t16,0,16,                     0.2,0.1,0.4,\r\n\t16,0,-16,                   0.2,0.1,0.4,\r\n\r\n\t16,0,16,                     0.2,0.1,0.4,\r\n\t-16,0,-16,                   0.2,0.1,0.4,\r\n\t-16,0,16,                    0.2,0.1,0.4,\r\n    ];\r\n    const defaultAttribs= {\r\n\t'a_position':[3,\"FLOAT\",false,6*Float32Array.BYTES_PER_ELEMENT,0,defaultVertexes],\r\n\t'a_color':[3,\"FLOAT\",false,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT,defaultVertexes],\r\n    };\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plane.js","export const createScene = function(){\r\n    function _(gl){\r\n\tconst sc = new Scene(gl);\r\n\t//create viewProjectionMatrix\r\n\t//const cameraMatrix = m4.identity();\r\n\t//m4.translate(cameraMatrix, 8, 8, 8,cameraMatrix);\r\n\tsc.setTranslateMatrix(m4.translate(m4.identity(), 0, 2, 4));\r\n\t//const target= [0, 0, 0];\r\n\t/*const cameraPosition  =[ cameraMatrix[12], cameraMatrix[13], cameraMatrix[14], ];\r\n\tconst up = [0, 1, 0];\r\n\tm4.lookAt(cameraPosition, target, up,cameraMatrix);*/\r\n\t//#############################################/\r\n\t//sc._cameraMatrix = cameraMatrix;\r\n\t//const viewMatrix =m4.inverse(cameraMatrix);\r\n\tconst aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\r\n\tconst zNear = 1;\r\n\tconst zFar = -1024;\r\n\tconst fieldOfViewRadians = degToRad(75);\r\n\tconst projectionMatrix = m4.perspective(fieldOfViewRadians, aspect, zNear, zFar);\r\n\t//#############################################/\r\n\tsc._projectionMatrix = projectionMatrix;\r\n\t//viewProjectionMatrix = m4.multiply(projectionMatrix,viewMatrix );\r\n\t// create scene and attach viewProjectionMatrix to it\r\n\t//sc._viewProjectionMatrix = viewProjectionMatrix;\r\n\treturn sc;\r\n    }\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/createScene.js","export const Ghost = function(){\r\n    function _(){}\r\n    function getWorldMatrix(){\r\n\treturn U.getMatrix.call(this,'_worldMatrix');\r\n    }\r\n    _.prototype.getWorldMatrix = getWorldMatrix;\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ghost.js","import Player from './lib/player.js'\r\nimport m4 from './lib/m4.js'\r\nimport C from './lib/constants.js'\r\n\r\nexport const createCubePlayer= function(){\r\n    function _(gl,cameraMatrix){\r\n\tconst clauses = {\r\n\t    'drawArrays':[gl.TRIANGLES,0,defaultVertexes.length/6]\r\n\t};\r\n\tconst cb = new Player(gl,defaultAttribs,defaultUniforms,clauses,cameraMatrix);\r\n\tconst follow = cb.getWorldMatrix;\r\n\tcb.getWorldMatrix = function(){\r\n\t    const worldMatrix = follow(cb,cameraMatrix);\r\n\t    m4.translate(worldMatrix,0,0,1,worldMatrix);\r\n\t    return worldMatrix;\r\n\t}\r\n\treturn cb;\r\n    }\r\n\r\n    const defaultUniforms = {\r\n\t//'u_color':[1,0,0,1]\r\n    };\r\n    const defaultVertexes = [\r\n\t//front\r\n\t-1,-1,0,     1,1,0,\r\n\t1,-1,0,      1,1,0,     \r\n\t-1,1,0,     1,1,0,\r\n\r\n\t-1,1,0,     1,0,0,\r\n\t1,-1,0,     1,0,0,\r\n\t1,1,0,     1,0,0,\r\n\t//right\r\n\t1,1,0,     0,0,1,\r\n\t1,-1,0,     0,0,1,\r\n\t1,-1,-2,     0,0,1,\r\n\r\n\t1,-1,-2,     0,0,1,\r\n\t1,1,-2,     0,0,1,\r\n\t1,1,0,     0,0,1,\r\n\t//back\r\n\t1,-1,-2,     1,0,0,\r\n\t-1,-1,-2,     1,0,0,\r\n\t1,1,-2,     1,0,0,\r\n\r\n\t1,1,-2,     1,0,0,\r\n\t-1,-1,-2,     1,0,0,\r\n\t-1,1,-2,     1,0,0,\r\n\t//left\r\n\t-1,1,-2,     0,0,1,\r\n\t-1,-1,-2,     0,0,1,\r\n\t-1,-1,0,     0,0,1,\r\n\r\n\t-1,-1,0,     0,0,1,\r\n\t-1,1,0,     0,0,1,\r\n\t-1,1,-2,     0,0,1,\r\n\t//top\r\n\t-1,1,-2,     0,1,0,\r\n\t-1,1,0,     0,1,0,\r\n\t1,1,0,     0,1,0,\r\n\r\n\t1,1,0,     0,1,0,\r\n\t1,1,-2,     0,1,0,\r\n\t-1,1,-2,     0,1,0,\r\n\t//bottom\r\n\t-1,-1,0,     0,0,1,\r\n\t-1,-1,-2,     0,0,1,\r\n\t1,-1,0,     0,0,1,\r\n\r\n\t1,-1,0,     0,0,1,\r\n\t-1,-1,-2,     0,0,1,\r\n\t1,-1,-2,     0,0,1,\r\n    ];\r\n    const defaultAttribs = {\r\n\t'a_position':[3,C.FLOAT,false,6*Float32Array.BYTES_PER_ELEMENT,0,defaultVertexes],\r\n\t'a_color':[3,C.FLOAT,false,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT,defaultVertexes],\r\n    };\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/cube-player.js","import Sprite from './sprite.js'\r\nimport m4 from './m4.js'\r\n\r\nexport const Player = function(){\r\n    function _(gl,attribs,uniforms,clauses,ghost){\r\n\tSprite.call(this,gl,attribs,uniforms,clauses);\r\n\tthis._worldMatrix = m4.identity();\r\n\t//m4.translate(this._worldMatrix,0,0,-2,this._worldMatrix);\r\n\tthis.getWorldMatrix = follow.bind(this,ghost);\r\n    }\r\n    function follow(ghost){\r\n\t//Step forward to let camera can see the player\r\n\tthis._worldMatrix = m4.identity();\r\n\tm4.multiply(this._worldMatrix,ghost.getWorldMatrix(),this._worldMatrix);\r\n\t//m4.translate(this._worldMatrix,0,0,0,this._worldMatrix);\r\n\t//m4.scale(this._worldMatrix,0.4,0.4,0.4,this._worldMatrix);\r\n\treturn this._worldMatrix;\r\n    }\r\n    _.prototype = Object.create(Sprite.prototype);\r\n    _.prototype.constructor = _;\r\n    /*function getUniforms(){\r\n\tconst m =this._scene.getProjectionMatrix();\r\n\t//Get rid of viewMatrix to let player stay in front of camera.\r\n\tthis.uniforms['u_worldViewProjection'] = m4.multiply(m,this.getWorldMatrix());\r\n\treturn this.uniforms;\r\n    }\r\n    _.prototype.getUniforms = getUniforms;*/\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/player.js","\"use strict\"\r\nimport GameTimer from './timer.js'\r\nimport m4 from './m4.js'\r\nimport Walker from './walker.js'\r\n//import GameMath from './game-math.js'\r\n\r\nexport const control = function(){\r\n    const _ = {};\r\n    const lookAroundByKeyboard = function(){\r\n\tconst SPEED = 16;\r\n\tconst ZERO = {x:0,y:0,z:0};\r\n\tconst UP= {x:SPEED*Math.PI/180,y:0,z:0};\r\n\tconst DOWN= {x:-SPEED*Math.PI/180,y:0,z:0};\r\n\tconst RIGHT=  {x:0,y:-SPEED*Math.PI/180,z:0};\r\n\tconst LEFT= {x:0,y:SPEED*Math.PI/180,z:0}; \r\n\t/*UP= gm.pitchYawRoll2xyz(SPEED,0,0),\r\n\t  DOWN= gm.pitchYawRoll2xyz(-SPEED,0,0),\r\n\t  LEFT= gm.pitchYawRoll2xyz(0,-SPEED,0),\r\n\t  RIGHT= gm.pitchYawRoll2xyz(0,SPEED,0);*/\r\n\tvar scene,tm,rotation = ZERO;\r\n\tfunction _(s){\r\n\t    scene = s;\r\n\t    document.body.addEventListener('keydown', onkeydown);\r\n\t    document.body.addEventListener('keyup', onkeyup);\r\n\t    tm = new GameTimer(C.FPS);\r\n\t}\r\n\tfunction onkeyup (et){\r\n\t    tm.stop();\r\n\t    rotation= ZERO;\r\n\t    if(et.keyCode == 72){//left,h\r\n\t    }else if(et.keyCode ==76){//right,l\r\n\t    }else if(et.keyCode ==75){//up,j\r\n\t    }else if(et.keyCode ==74){//down,k\r\n\t    }\r\n\t}\r\n\r\n\tfunction onkeydown(et){\r\n\t    tm.enable();\r\n\t    if(et.keyCode == 65){//left,a\r\n\t\trotation = LEFT;\r\n\t    }else if(et.keyCode ==83){//up,s\r\n\t\trotation = UP;\r\n\t    }else if(et.keyCode ==68){//down,d\r\n\t\trotation = DOWN;\r\n\t    }else if(et.keyCode ==70){//right,f\r\n\t\trotation = RIGHT;\r\n\t    }else{\r\n\t\treturn;\r\n\t    }\r\n\t    tm.loop(lookaround);\r\n\t}\r\n\tfunction lookaround(){\r\n\t    const c = scene.getRotateMatrix();\r\n\t    m4.xRotate(c,rotation.x,c);\r\n\t    m4.yRotate(c,rotation.y,c);\r\n\t    m4.zRotate(c,rotation.z,c);\r\n\t    //console.log(rotation.x,rotation.y,rotation.z);\r\n\t}\r\n\treturn _;\r\n    }();\r\n    _.lookAroundByKeyboard = lookAroundByKeyboard ;\r\n    const moveByKeyboard= function(){\r\n\r\n\tfunction _(s){\r\n\t    new Walker(s);\r\n\t}\r\n\treturn _;\r\n    }();\r\n    _.moveByKeyboard = moveByKeyboard;\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/control.js","import GameTimer from './timer.js'\r\nimport GameMath from './game-math.js'\r\nimport Vector from './vector.js'\r\n\r\nexport const Walker = function(){\r\n    const INIT = 0.4,ACCELERATION = 0.16 ,GOAL = 0.8;\r\n    function _(s){\r\n        this._sprite = s;\r\n        document.body.addEventListener('keydown', onkeydown.bind(this));\r\n        document.body.addEventListener('keyup', onkeyup.bind(this));\r\n        this._timer= new GameTimer(C.FPS);\r\n        this._velocity = new Vector();\r\n        this._movement = new Vector();\r\n        this._goal = {x:0,z:0};\r\n    }\r\n    function onkeyup (et){\r\n        this._goal.z =this._goal.x = 0;\r\n        if(et.keyCode == 72){//left,h\r\n        }else if(et.keyCode ==76){//right,l\r\n        }else if(et.keyCode ==75){//up,j\r\n        }else if(et.keyCode ==74){//down,k\r\n        }\r\n    }\r\n\r\n    function onkeydown(et){\r\n        this._timer.enable();\r\n        if(et.keyCode == 72){//left,h\r\n            if(this._goal.x == -GOAL)\r\n                return;\r\n            this._movement.x = -INIT;\r\n            this._goal.x = -GOAL;\r\n        }else if(et.keyCode ==76){//right,l\r\n            if(this._goal.x == GOAL)\r\n                return;\r\n            this._movement.x = INIT;\r\n            this._goal.x = GOAL;\r\n        }else if(et.keyCode ==75){//forward,k\r\n            if(this._goal.z == -GOAL)\r\n                return;\r\n            this._movement.z = -INIT;\r\n            this._goal.z = -GOAL;\r\n        }else if(et.keyCode ==74){//backward,j\r\n            if(this._goal.z == GOAL)\r\n                return;\r\n            this._movement.z = INIT;\r\n            this._goal.z = GOAL;\r\n        }else{\r\n            return;\r\n        }\r\n        this._timer.loop(move.bind(this));\r\n    }\r\n    function move(){\r\n        const worldMatrix = this._sprite.getWorldMatrix(); \r\n        m4.translate(worldMatrix,this._velocity.x,0,this._velocity.z,worldMatrix);\r\n        if(this._movement.x!=this._goal.x){\r\n            const r = GameMath.approach(this._goal.x,this._movement.x,ACCELERATION);\r\n            this._movement.x = r;\r\n        }\r\n        if(this._movement.z!=this._goal.z)\r\n            this._movement.z = GameMath.approach(this._goal.z,this._movement.z,ACCELERATION);\r\n        if(this._movement.x ==0 && this._movement.z ==0){\r\n            this._timer.stop();\r\n        }\r\n        //const up = {x:0,y:1,z:0};\r\n        // calculte forward/right direction vector using cross product\r\n        //var right = GameMath.cross(up,forward);\r\n\r\n        // Use cameraMatrix to get real time direction vector\r\n        const cameraMatrix = this._sprite._scene.getCameraMatrix();\r\n        var forward = new Vector(cameraMatrix[0],cameraMatrix[1],cameraMatrix[2]);\r\n        forward.normalize();\r\n        var right = new Vector(cameraMatrix[8],cameraMatrix[9],cameraMatrix[10]);\r\n        right.normalize();\r\n        // real time translation\r\n        this._velocity =right.multiply(this._movement.z).add(forward.multiply(this._movement.x));\r\n    }\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/walker.js","import EAngle from './EAngle.js'\r\nimport Vector from './vector.js'\r\n\r\nexport const GameMath = function(){\r\n    const _ = {};\r\n    _.pitchYawRoll2xyz = function(p,y,r){\r\n\treturn new EAngle(p,y,r).toVector();\r\n    }\r\n\r\n    //linear interpolate speed up/down\r\n    _.approach =   function (goal,current,delta){\r\n\tconst diff = goal - current;\r\n\t//console.log(goal,current,diff,delta);\r\n\t//speed up\r\n\tif(diff > delta){\r\n\t    return current +delta;\r\n\t}\r\n\t// speed down\r\n\tif(diff < -delta)\r\n\t    return current -delta;\r\n\r\n\treturn goal;\r\n    }\r\n    _.dotProduct = function(a,b){\r\n\treturn a.x*b.x +a.y*b.y+a.z*b.z;\r\n    };\r\n    //Cross Product\r\n    _.cross= function(a,b){\r\n\tconst c = new Vector();\r\n\tc.x = a.y*b.z - a.z * b.y;\r\n\tc.y = a.z*b.x - a.x * b.z;\r\n\tc.z = a.x*b.y - a.y * b.x;\r\n\treturn c;\r\n    }\r\n\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/game-math.js","export const EAngle = function(){\r\n    function _(pitch,yaw,roll){\r\n        this.p = pitch;//head up/down\r\n        this.y= yaw;//head north/south/west/east\r\n        this.r = roll;//wing up/down\r\n    }\r\n    function toVector(){\r\n        const result = new Vector();\r\n        result.x = Math.cos(this.y)*Math.cos(this.p);\r\n        result.y = Math.sin(this.p);\r\n        result.z = Math.sin(this.y)*Math.cos(this.p);\r\n        return result;\r\n    }\r\n    _.prototype.toVector = toVector;\r\n    function normalize(){\r\n        if(this.p>89)\r\n            this.p = 89;\r\n        if(this.p<-89)\r\n            this.p = -89;\r\n\r\n        while(this.y<-180)\r\n            this.y += 360;\r\n        while(this.y>180)\r\n            this.y-=360;\r\n    }\r\n    return _;\r\n}();\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/EAngle.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!./proto-game.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./proto-game.css\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./proto-game.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/proto-game.css\n// module id = 20\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#cv{border:1px solid #000}body{background:#55d8dc}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./src/css/proto-game.css\n// module id = 21\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = 22\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tvar styleTarget = fn.call(this, selector);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[selector] = styleTarget;\n\t\t}\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/style-loader/lib/addStyles.js\n// module id = 23\n// module chunks = 0","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/style-loader/lib/urls.js\n// module id = 24\n// module chunks = 0"],"sourceRoot":""}